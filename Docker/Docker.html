<!DOCTYPE html>

<html class="no-js" lang="es"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><link href="https://martinezpenya.es/ModelosIA/Docker/Docker.html" rel="canonical"/><link href="../index.html" rel="prev"/><link href="../UD01/UD01_ES.html" rel="next"/><link href="../assets/favicon.ico" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/><title>Introducción a docker - Modelos de IA (CE Inteligencia Artificial y Big Data)</title><link href="../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/><link href="../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M64%20480c-35.3%200-64-28.7-64-64V96c0-35.3%2028.7-64%2064-64h320c35.3%200%2064%2028.7%2064%2064v213.5c0%2017-6.7%2033.3-18.7%2045.3L322.7%20461.3c-12%2012-28.3%2018.7-45.3%2018.7zm325.5-176H296c-13.3%200-24%2010.7-24%2024v93.5z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M384%20512H96c-53%200-96-43-96-96V96C0%2043%2043%200%2096%200h304c26.5%200%2048%2021.5%2048%2048v288c0%2020.9-13.4%2038.7-32%2045.3V448c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032zM96%20384c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h256v-64zm32-232c0%2013.3%2010.7%2024%2024%2024h176c13.3%200%2024-10.7%2024-24s-10.7-24-24-24H152c-13.3%200-24%2010.7-24%2024m24%2072c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h176c13.3%200%2024-10.7%2024-24s-10.7-24-24-24z%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m-32-352a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200m-8%2064h48c13.3%200%2024%2010.7%2024%2024v88h8c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-80c-13.3%200-24-10.7-24-24s10.7-24%2024-24h24v-64h-24c-13.3%200-24-10.7-24-24s10.7-24%2024-24%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M461.2%2018.9C472.7%2024%20480%2035.4%20480%2048v416c0%2012.6-7.3%2024-18.8%2029.1s-24.8%203.2-34.3-5.1l-46.6-40.7c-43.6-38.1-98.7-60.3-156.4-63V480c0%2017.7-14.3%2032-32%2032h-32c-17.7%200-32-14.3-32-32v-96C57.3%20384%200%20326.7%200%20256s57.3-128%20128-128h84.5c61.8-.2%20121.4-22.7%20167.9-63.3L427%2024c9.4-8.3%2022.9-10.2%2034.3-5.1zM224%20320v.2c70.3%202.7%20137.8%2028.5%20192%2073.4V118.3c-54.2%2044.9-121.7%2070.7-192%2073.4z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M434.8%2070.1c14.3%2010.4%2017.5%2030.4%207.1%2044.7l-256%20352c-5.5%207.6-14%2012.3-23.4%2013.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200l101.5%20101.5%20234-321.7c10.4-14.3%2030.4-17.5%2044.7-7.1z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m0-336c-17.7%200-32%2014.3-32%2032%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-44.2%2035.8-80%2080-80s80%2035.8%2080%2080c0%2047.2-36%2067.2-56%2074.5v3.8c0%2013.3-10.7%2024-24%2024s-24-10.7-24-24v-8.1c0-20.5%2014.8-35.2%2030.1-40.2%206.4-2.1%2013.2-5.5%2018.2-10.3%204.3-4.2%207.7-10%207.7-19.6%200-17.7-14.3-32-32-32zm-32%20192a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%200c14.7%200%2028.2%208.1%2035.2%2021l216%20400c6.7%2012.4%206.4%2027.4-.8%2039.5S486.1%20480%20472%20480H40c-14.1%200-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9%2020.5-21%2035.2-21m0%20352a32%2032%200%201%200%200%2064%2032%2032%200%201%200%200-64m0-192c-18.2%200-32.7%2015.5-31.4%2033.7l7.4%20104c.9%2012.5%2011.4%2022.3%2023.9%2022.3%2012.6%200%2023-9.7%2023.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M480-16c6.9%200%2013%204.4%2015.2%2010.9l13.5%2040.4%2040.4%2013.5C555.6%2051%20560%2057.1%20560%2064s-4.4%2013-10.9%2015.2l-40.4%2013.5-13.5%2040.4c-2.2%206.5-8.3%2010.9-15.2%2010.9s-13-4.4-15.2-10.9l-13.5-40.4-40.4-13.5C404.4%2077%20400%2070.9%20400%2064s4.4-13%2010.9-15.2l40.4-13.5%2013.5-40.4C467-11.6%20473.1-16%20480-16M321.4%2097.4c12.5-12.5%2032.8-12.5%2045.3%200l80%2080c12.5%2012.5%2012.5%2032.8%200%2045.3l-10.9%2010.9c7.9%2022%2012.2%2045.7%2012.2%2070.5%200%20114.9-93.1%20208-208%20208S32%20418.9%2032%20304%20125.1%2096%20240%2096c24.7%200%2048.5%204.3%2070.5%2012.3zM144%20304c0-53%2043-96%2096-96%2013.3%200%2024-10.7%2024-24s-10.7-24-24-24c-79.5%200-144%2064.5-144%20144%200%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M416%20427.4c58.5-44%2096-111.6%2096-187.4C512%20107.5%20397.4%200%20256%200S0%20107.5%200%20240c0%2075.8%2037.5%20143.4%2096%20187.4V464c0%2026.5%2021.5%2048%2048%2048h32v-40c0-13.3%2010.7-24%2024-24s24%2010.7%2024%2024v40h64v-40c0-13.3%2010.7-24%2024-24s24%2010.7%2024%2024v40h32c26.5%200%2048-21.5%2048-48zM96%20256a64%2064%200%201%201%20128%200%2064%2064%200%201%201-128%200m256-64a64%2064%200%201%201%200%20128%2064%2064%200%201%201%200-128%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M352%200c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v64h-96c-53%200-96%2043-96%2096v224c0%2053%2043%2096%2096%2096h256c53%200%2096-43%2096-96V160c0-53-43-96-96-96h-96zM160%20368c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24M224%20176a48%2048%200%201%201%200%2096%2048%2048%200%201%201%200-96m144%2048a48%2048%200%201%201%2096%200%2048%2048%200%201%201-96%200m-304%200c0-17.7-14.3-32-32-32S0%20206.3%200%20224v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32zm544-32c-17.7%200-32%2014.3-32%2032v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32v-96c0-17.7-14.3-32-32-32%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M248%20106.6c18.9-9%2032-28.3%2032-50.6%200-30.9-25.1-56-56-56s-56%2025.1-56%2056c0%2022.3%2013.1%2041.6%2032%2050.6v98.8c-2.8%201.3-5.5%202.9-8%204.7l-80.1-45.8c1.6-20.8-8.6-41.6-27.9-52.8C57.2%2096%2023%20105.2%207.5%20132S1.2%20193%2028%20208.5c1.3.8%202.6%201.5%204%202.1v90.8c-1.3.6-2.7%201.3-4%202.1C1.2%20319-8%20353.2%207.5%20380s49.7%2036%2076.5%2020.5c19.3-11.1%2029.4-32%2027.8-52.8l50.5-28.9c-11.5-11.2-19.9-25.6-23.8-41.7l-50.5%2029c-2.6-1.8-5.2-3.3-8-4.7v-90.8c2.8-1.3%205.5-2.9%208-4.7l80.1%2045.8c-.1%201.4-.2%202.8-.2%204.3%200%2022.3%2013.1%2041.6%2032%2050.6v98.8c-18.9%209-32%2028.3-32%2050.6%200%2030.9%2025.1%2056%2056%2056s56-25.1%2056-56c0-22.3-13.1-41.6-32-50.6v-98.8c2.8-1.3%205.5-2.9%208-4.7l80.1%2045.8c-1.6%2020.8%208.6%2041.6%2027.8%2052.8%2026.8%2015.5%2061%206.3%2076.5-20.5s6.3-61-20.5-76.5c-1.3-.8-2.7-1.5-4-2.1v-90.8c1.4-.6%202.7-1.3%204-2.1%2026.8-15.5%2036-49.7%2020.5-76.5s-49.5-36-76.3-20.5c-19.3%2011.1-29.4%2032-27.8%2052.8l-50.6%2028.9c11.5%2011.2%2019.9%2025.6%2023.8%2041.7l50.6-29c2.6%201.8%205.2%203.3%208%204.7v90.8c-2.8%201.3-5.5%202.9-8%204.6l-80.1-45.8c.1-1.4.2-2.8.2-4.3%200-22.3-13.1-41.6-32-50.6v-98.8z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M0%20216C0%20149.7%2053.7%2096%20120%2096h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064H64c-35.3%200-64-28.7-64-64zm256%200c0-66.3%2053.7-120%20120-120h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064h-64c-35.3%200-64-28.7-64-64z%22/%3E%3C/svg%3E');}</style><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../css/extra.css" rel="stylesheet"/><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href="../assets/stylesheets/extra-style._6l7stno.min.css" rel="stylesheet"/></head> <body data-md-color-accent="lime" data-md-color-primary="teal" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#introduccion-a-docker"> Saltar a contenido </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav aria-label="Cabecera" class="md-header__inner md-grid"> <a aria-label="Modelos de IA (CE Inteligencia Artificial y Big Data)" class="md-header__button md-logo" data-md-component="logo" href=".." title="Modelos de IA (CE Inteligencia Artificial y Big Data)"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 8h1v1h-1zm1-3h-1v2h1V6h.5c.28 0 .5-.22.5-.5v-2c0-.28-.22-.5-.5-.5H18v1h2zm-3-2h-1v4h1zm-3.5 12.5a2 2 0 1 0 4 0c0-1.11-.89-2-2-2s-2 .9-2 2M17 8h-1v1h1zm5 6h-1c0-1.5-.47-2.87-1.26-4h-2.77c1.22.91 2.03 2.36 2.03 4v2h2v1h-2v3H5v-3H3v-1h2v-2c0-2.76 2.24-5 5-5h4c.34 0 .68.04 1 .1V7.08c-.33-.05-.66-.08-1-.08h-1V5.73A2 2 0 1 0 10 4c0 .74.4 1.39 1 1.73V7h-1c-3.87 0-7 3.13-7 7H2c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h1v1a2 2 0 0 0 2 2h14c1.11 0 2-.89 2-2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-13.5-.5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.89 2-2-.89-2-2-2"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Modelos de IA (CE Inteligencia Artificial y Big Data) </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Introducción a docker </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Light mode" class="md-option" data-md-color-accent="lime" data-md-color-media="" data-md-color-primary="teal" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg> </label> <input aria-label="Dark mode" class="md-option" data-md-color-accent="lime" data-md-color-media="" data-md-color-primary="teal" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Búsqueda" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Búsqueda" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Buscar" class="md-search__options"> <button aria-label="Limpiar" class="md-search__icon md-icon" tabindex="-1" title="Limpiar" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Inicializando búsqueda </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/martinezpenya/ModelosIA" title="Ir al repositorio"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> <a class="md-header-nav__button md-icon" href="../docs/Libro.pdf" title="PDF">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
<path d="M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z" fill="#E2E5E7"></path>
<path d="m384 128h96l-128-128v96c0 17.6 14.4 32 32 32z" fill="#B0B7BD"></path>
<polygon fill="#CAD1D8" points="480 224 384 128 480 128"></polygon>
<path d="M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16  V416z" fill="#F15642"></path>
<g fill="#fff">
<path d="m101.74 303.15c0-4.224 3.328-8.832 8.688-8.832h29.552c16.64 0 31.616 11.136 31.616 32.48 0 20.224-14.976 31.488-31.616 31.488h-21.36v16.896c0 5.632-3.584 8.816-8.192 8.816-4.224 0-8.688-3.184-8.688-8.816v-72.032zm16.88 7.28v31.872h21.36c8.576 0 15.36-7.568 15.36-15.504 0-8.944-6.784-16.368-15.36-16.368h-21.36z"></path>
<path d="m196.66 384c-4.224 0-8.832-2.304-8.832-7.92v-72.672c0-4.592 4.608-7.936 8.832-7.936h29.296c58.464 0 57.184 88.528 1.152 88.528h-30.448zm8.064-72.912v57.312h21.232c34.544 0 36.08-57.312 0-57.312h-21.232z"></path>
<path d="m303.87 312.11v20.336h32.624c4.608 0 9.216 4.608 9.216 9.072 0 4.224-4.608 7.68-9.216 7.68h-32.624v26.864c0 4.48-3.184 7.92-7.664 7.92-5.632 0-9.072-3.44-9.072-7.92v-72.672c0-4.592 3.456-7.936 9.072-7.936h44.912c5.632 0 8.96 3.344 8.96 7.936 0 4.096-3.328 8.704-8.96 8.704h-37.248v0.016z"></path>
</g>
<path d="m400 432h-304v16h304c8.8 0 16-7.2 16-16v-16c0 8.8-7.2 16-16 16z" fill="#CAD1D8"></path>
</svg>
</a></nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navegación" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="Modelos de IA (CE Inteligencia Artificial y Big Data)" class="md-nav__button md-logo" data-md-component="logo" href=".." title="Modelos de IA (CE Inteligencia Artificial y Big Data)"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 8h1v1h-1zm1-3h-1v2h1V6h.5c.28 0 .5-.22.5-.5v-2c0-.28-.22-.5-.5-.5H18v1h2zm-3-2h-1v4h1zm-3.5 12.5a2 2 0 1 0 4 0c0-1.11-.89-2-2-2s-2 .9-2 2M17 8h-1v1h1zm5 6h-1c0-1.5-.47-2.87-1.26-4h-2.77c1.22.91 2.03 2.36 2.03 4v2h2v1h-2v3H5v-3H3v-1h2v-2c0-2.76 2.24-5 5-5h4c.34 0 .68.04 1 .1V7.08c-.33-.05-.66-.08-1-.08h-1V5.73A2 2 0 1 0 10 4c0 .74.4 1.39 1 1.73V7h-1c-3.87 0-7 3.13-7 7H2c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h1v1a2 2 0 0 0 2 2h14c1.11 0 2-.89 2-2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-13.5-.5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.89 2-2-.89-2-2-2"></path></svg> </a> Modelos de IA (CE Inteligencia Artificial y Big Data) </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/martinezpenya/ModelosIA" title="Ir al repositorio"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/> <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0"> <span class="md-ellipsis"> UD00 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_1"> <span class="md-nav__icon md-icon"></span> UD00 </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../index.html"> <span class="md-ellipsis"> Información importante </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0"> <span class="md-ellipsis"> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Introducción a docker </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="Docker.html"> <span class="md-ellipsis"> Introducción a docker </span> </a> <nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#generalidades"> <span class="md-ellipsis"> Generalidades </span> </a> <nav aria-label="Generalidades" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#imprescindibles"> <span class="md-ellipsis"> Imprescindibles </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#arquitectura"> <span class="md-ellipsis"> Arquitectura </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#instalacion"> <span class="md-ellipsis"> Instalación </span> </a> <nav aria-label="Instalación" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#instalacion-en-ubuntu"> <span class="md-ellipsis"> Instalación en Ubuntu </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#docker-desktop"> <span class="md-ellipsis"> Docker Desktop </span> </a> <nav aria-label="Docker Desktop" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#que-es-docker-desktop"> <span class="md-ellipsis"> ¿Qué es Docker Desktop? </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#para-que-sirve"> <span class="md-ellipsis"> ¿Para qué sirve? </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#compatibilidad-por-sistema-operativo"> <span class="md-ellipsis"> Compatibilidad por Sistema Operativo </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#guia-rapida-de-instalacion"> <span class="md-ellipsis"> Guía Rápida de Instalación </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ventajas-docker-desktop-gui-vs-linea-de-comandos-cli"> <span class="md-ellipsis"> Ventajas docker desktop (GUI) vs Línea de Comandos (CLI) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#uso"> <span class="md-ellipsis"> Uso </span> </a> <nav aria-label="Uso" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#comandos-basicos"> <span class="md-ellipsis"> Comandos básicos </span> </a> <nav aria-label="Comandos básicos" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#gestion-de-imagenes"> <span class="md-ellipsis"> Gestión de imagenes </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#gestion-de-contenedores"> <span class="md-ellipsis"> Gestión de contenedores </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejemplo"> <span class="md-ellipsis"> Ejemplo </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#crear-contenedor-interactivo-y-con-nombre"> <span class="md-ellipsis"> Crear contenedor interactivo y con nombre </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#imagenes"> <span class="md-ellipsis"> Imágenes </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#volumenes"> <span class="md-ellipsis"> Volúmenes </span> </a> <nav aria-label="Volúmenes" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#operaciones-con-volumenes"> <span class="md-ellipsis"> Operaciones con volúmenes </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejemplo-compartir-volumenes-con-host"> <span class="md-ellipsis"> Ejemplo: compartir volúmenes con host </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejemplo-compartir-volumenes-con-contenedores"> <span class="md-ellipsis"> Ejemplo: compartir volúmenes con contenedores </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#diferencias-docker-compose-vs-dockerfile"> <span class="md-ellipsis"> Diferencias docker-compose vs DockerFile </span> </a> <nav aria-label="Diferencias docker-compose vs DockerFile" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#docker-compose"> <span class="md-ellipsis"> Docker Compose </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#dockerfile"> <span class="md-ellipsis"> DockerFile </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#creacion-de-imagenes-propias"> <span class="md-ellipsis"> Creación de imágenes propias </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#opciones"> <span class="md-ellipsis"> Opciones </span> </a> <nav aria-label="Opciones" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#guardar-estado-de-los-contenedores"> <span class="md-ellipsis"> Guardar estado de los contenedores </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#casos-de-uso"> <span class="md-ellipsis"> Casos de uso </span> </a> <nav aria-label="Casos de uso" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#compatibilidad-de-codigo-entre-diferentes-versiones-de-un-lenguaje"> <span class="md-ellipsis"> Compatibilidad de código entre diferentes versiones de un lenguaje </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#crear-una-imagen-de-un-repositorio-de-github"> <span class="md-ellipsis"> Crear una imagen de un repositorio de github </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#dockerizar-nuestro-jupyter-con-carpeta-para-notebooks"> <span class="md-ellipsis"> Dockerizar nuestro jupyter con carpeta para notebooks </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#crear-una-imagen-personalizada"> <span class="md-ellipsis"> Crear una imagen personalizada </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#copias-de-seguridad"> <span class="md-ellipsis"> Copias de seguridad </span> </a> <nav aria-label="Copias de seguridad" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#copias-de-contenedores"> <span class="md-ellipsis"> Copias de contenedores </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#restauracion-de-copias-de-seguridad-de-contenedores"> <span class="md-ellipsis"> Restauración de copias de seguridad de contenedores </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#copias-de-imagenes"> <span class="md-ellipsis"> Copias de imágenes </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#restaurar-copias-de-seguridad-de-imagenes"> <span class="md-ellipsis"> Restaurar copias de seguridad de imágenes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#contenedores-ejemplo"> <span class="md-ellipsis"> Contenedores ejemplo </span> </a> <nav aria-label="Contenedores ejemplo" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#monitorizacion-y-gestion"> <span class="md-ellipsis"> Monitorización y Gestión </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#proxy-y-red"> <span class="md-ellipsis"> Proxy y Red </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#multimedia-y-entretenimiento"> <span class="md-ellipsis"> Multimedia y Entretenimiento </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#productividad-y-organizacion"> <span class="md-ellipsis"> Productividad y Organización </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#seguridad-y-contrasenas"> <span class="md-ellipsis"> Seguridad y Contraseñas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#automatizacion-del-hogar"> <span class="md-ellipsis"> Automatización del Hogar </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#utilidades-y-mantenimiento"> <span class="md-ellipsis"> Utilidades y Mantenimiento </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejercicios"> <span class="md-ellipsis"> Ejercicios </span> </a> <nav aria-label="Ejercicios" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#ejercicio1"> <span class="md-ellipsis"> Ejercicio1 </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejercicio2"> <span class="md-ellipsis"> Ejercicio2 </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejercicio-3"> <span class="md-ellipsis"> Ejercicio 3 </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ejercicio-4"> <span class="md-ellipsis"> Ejercicio 4 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#tarea-entregable"> <span class="md-ellipsis"> Tarea entregable </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/> <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0"> <span class="md-ellipsis"> UD01 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> UD01 </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/UD01_ES.html"> <span class="md-ellipsis"> Caracterización de sistemas y utilización de modelos de Inteligencia Artificial </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/diapositivas.html"> <span class="md-ellipsis"> Diapositivas </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/> <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0"> <span class="md-ellipsis"> Actividades </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="__nav_3_3"> <span class="md-nav__icon md-icon"></span> Actividades </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/UD01_P01_RobocodeTankRoyale_ES.html"> <span class="md-ellipsis"> P01 Robocode </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/UD01_P02_Practica_ES.html"> <span class="md-ellipsis"> P02 Entregable </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/> <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0"> <span class="md-ellipsis"> Talleres </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="__nav_3_4"> <span class="md-nav__icon md-icon"></span> Talleres </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/UD01_T01_IDE_ES.html"> <span class="md-ellipsis"> T01 Java </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/UD01_T02_GitHub.html"> <span class="md-ellipsis"> T02 GitHub </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD01/UD01_T03_Markdown.html"> <span class="md-ellipsis"> T03 Markdown </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-ellipsis"> UD02 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> UD02 </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD02/UD02_ES.html"> <span class="md-ellipsis"> Sistemas basados en el conocimiento </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD02/UD02_Diapositivas.html"> <span class="md-ellipsis"> Diapositivas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD02/UD02_ActividadesGuiadas.html"> <span class="md-ellipsis"> Actividades Guiadas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD02/UD02_ActividadesEntregables.html"> <span class="md-ellipsis"> Actividades Entregables </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0"> <span class="md-ellipsis"> UD03 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> UD03 </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD03/UD03_ES.html"> <span class="md-ellipsis"> Procesamiento del Lenguaje Natural </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD03/UD03_Diapositivas.html"> <span class="md-ellipsis"> Diapositivas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD03/UD03_ActividadesGuiadas.html"> <span class="md-ellipsis"> Actividades Guiadas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD03/UD03_ActividadesEntregables.html"> <span class="md-ellipsis"> Actividades Entregables </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/> <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0"> <span class="md-ellipsis"> UD04 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> UD04 </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD04/UD04_ES.html"> <span class="md-ellipsis"> Análisis de sistemas robotizados </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD04/UD04_Diapositivas.html"> <span class="md-ellipsis"> Diapositivas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD04/UD04_ActividadesGuiadas.html"> <span class="md-ellipsis"> Actividades Guiadas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD04/UD04_ActividadesEntregables.html"> <span class="md-ellipsis"> Actividades Entregables </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/> <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0"> <span class="md-ellipsis"> UD05 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> UD05 </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../UD05/UD05_ES.html"> <span class="md-ellipsis"> Aplicación de principios legales y éticos de la IA </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD05/UD05_ActividadesGuiadas.html"> <span class="md-ellipsis"> Actividades Guiadas </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../UD05/UD05_ActividadesEntregables.html"> <span class="md-ellipsis"> Actividades Entregables </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../sobremi.html"> <span class="md-ellipsis"> Sobre mi </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../fuentes.html"> <span class="md-ellipsis"> Fuentes de información </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href="https://github.com/martinezpenya/ModelosIA/edit/main/docs/Docker/Docker.md" rel="edit" title="Editar esta página"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <div><h1 id="introduccion-a-docker">Introducción a docker<a class="headerlink" href="#introduccion-a-docker" title="Permanent link">¶</a></h1> <h2 id="generalidades">Generalidades<a class="headerlink" href="#generalidades" title="Permanent link">¶</a></h2> <h3 id="imprescindibles">Imprescindibles<a class="headerlink" href="#imprescindibles" title="Permanent link">¶</a></h3> <ul> <li> <p><a href="https://www.youtube.com/watch?v=FAJ1o3hb35s">¿Qué es docker? Imagen vs contenedor</a> </p> <p><a href="https://youtu.be/BbA5dpS4CcI?si=FAJ1o3hb35s"><img alt="¿Qué es docker? Imagen vs contenedor" src="https://img.youtube.com/vi/FAJ1o3hb35s/0.jpg"/></a></p> <p></p><p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/FAJ1o3hb35s?si=byaWLqYMVSlPFpIx" title="YouTube video player" width="560"></iframe></p> </li> <li> <p><a href="https://youtu.be/4Dko5W96WHg?si=Ri9RgyfLWxbs0DY9&amp;t=86">Curso de docker</a></p> <p><a href="https://youtu.be/4Dko5W96WHg"><img alt="Curso de docker" src="https://img.youtube.com/vi/4Dko5W96WHg/0.jpg"/></a> </p><p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/4Dko5W96WHg?si=TJyuhtQHMZg7GIt4" title="YouTube video player" width="560"></iframe></p> </li> <li> <p><a href="https://www.youtube.com/watch?v=A8oXDTDhZWU">Creación de imágenes</a></p> <p><a href="https://youtu.be/A8oXDTDhZWU"><img alt="Creación de imágenes" src="https://img.youtube.com/vi/A8oXDTDhZWU/0.jpg"/></a> </p><p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/A8oXDTDhZWU?si=oPFtXsMsEeUI-T9o" title="YouTube video player" width="560"></iframe></p> </li> </ul> <h3 id="arquitectura">Arquitectura<a class="headerlink" href="#arquitectura" title="Permanent link">¶</a></h3> <p><img alt="Arquitectura1" src="assets/docker.png" width="900"/></p> <p><img alt="Arquitectura2" src="assets/docker1.png" width="900"/></p> <p><img alt="Arquitectura3" src="assets/docker2.png" width="500"/></p> <h2 id="instalacion">Instalación<a class="headerlink" href="#instalacion" title="Permanent link">¶</a></h2> <h3 id="instalacion-en-ubuntu">Instalación en Ubuntu<a class="headerlink" href="#instalacion-en-ubuntu" title="Permanent link">¶</a></h3> <p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04-es">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04-es</a></p> <p>Requisitos previos:</p> <ul> <li><strong>apt-transport-https:</strong> permite que el administrador de paquetes transfiera datos a través de https</li> <li><strong>ca-certificates:</strong> permite que el navegador web y el sistema verifiquen los certificados de seguridad</li> <li><strong>curl:</strong> transfiere datos (similar a wget)</li> <li><strong>software-properties-common:</strong> agrega scripts para administrar el software</li> </ul> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1">sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w">  </span>curl<span class="w"> </span>apt-transport-https<span class="w"> </span>ca-certificates<span class="w"> </span>software-properties-common
</span></code></pre></div></td></tr></table></div> <p>Agregamos repositorio</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><span class="c1"># Primero clave GPG</span>
</span><span id="__span-1-2">curl<span class="w"> </span>-fsSL<span class="w"> </span>https://download.docker.com/linux/ubuntu/gpg<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>apt-key<span class="w"> </span>add<span class="w"> </span>-
</span><span id="__span-1-3">
</span><span id="__span-1-4">sudo<span class="w"> </span>add-apt-repository<span class="w"> </span><span class="s2">"deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span class="k">$(</span>lsb_release<span class="w"> </span>-cs<span class="k">)</span><span class="s2"> stable"</span>
</span><span id="__span-1-5">
</span><span id="__span-1-6">sudo<span class="w"> </span>apt<span class="w"> </span>update
</span><span id="__span-1-7">
</span><span id="__span-1-8">sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>docker-ce
</span><span id="__span-1-9">
</span><span id="__span-1-10">sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>docker
</span></code></pre></div></td></tr></table></div> <p>Por defecto, el comando docker solo puede ser ejecutado por el usuario root o un usuario del grupo docker, que se crea automáticamente durante el proceso de instalación de Docker.</p> <p>Para evitar escribir sudo al ejecutar el comando docker, agregue su nombre de usuario al grupo docker:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1">sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker<span class="w"> </span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span>
</span><span id="__span-2-2">
</span><span id="__span-2-3"><span class="c1"># Cerramos y abrimos sesión de nuevo o ejecutamos</span>
</span><span id="__span-2-4">su<span class="w"> </span>-<span class="w"> </span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span>
</span><span id="__span-2-5">
</span><span id="__span-2-6"><span class="c1"># Confirmamos los grupos de nuestro usuario</span>
</span><span id="__span-2-7">id<span class="w"> </span>-nG
</span></code></pre></div></td></tr></table></div> <h3 id="docker-desktop">Docker Desktop<a class="headerlink" href="#docker-desktop" title="Permanent link">¶</a></h3> <h4 id="que-es-docker-desktop">¿Qué es Docker Desktop?<a class="headerlink" href="#que-es-docker-desktop" title="Permanent link">¶</a></h4> <p><img alt="logo docker desktop blue" src="assets/logo-docker-desktop-blue.svg" width="300"/></p> <p>Es la aplicación oficial de Docker que te da una <strong>interfaz gráfica (GUI)</strong> para manejar contenedores, además de la línea de comandos.</p> <h4 id="para-que-sirve">¿Para qué sirve?<a class="headerlink" href="#para-que-sirve" title="Permanent link">¶</a></h4> <ul> <li><strong>Gestión visual</strong>: Ver contenedores, imágenes y volúmenes de forma gráfica</li> <li><strong>Configuración fácil</strong>: Ajustar recursos (CPU, RAM) con sliders</li> <li><strong>Monitorización</strong>: Ver en tiempo tiempo real qué está pasando</li> </ul> <p><img alt="docker desktop GUI" src="assets/dockerDesktop.png" width="700"/></p> <h4 id="compatibilidad-por-sistema-operativo">Compatibilidad por Sistema Operativo<a class="headerlink" href="#compatibilidad-por-sistema-operativo" title="Permanent link">¶</a></h4> <p>🪟 <strong>Windows</strong></p> <ul> <li><strong>Windows 10/11</strong> 64-bit (versiones Home, Pro, Enterprise, Education)</li> <li><strong>Requisitos importantes</strong>:</li> <li>Habilitar <strong>WSL 2</strong> (Windows Subsystem for Linux)</li> <li>Virtualización activada en BIOS/UEFI</li> <li><strong>Windows Home</strong> necesita WSL 2, <strong>Pro/Enterprise</strong> puede usar Hyper-V</li> </ul> <p>🍎 <strong>macOS</strong></p> <ul> <li><strong>macOS 12 Monterey</strong> o superior</li> <li><strong>Tipos de chip</strong>:</li> <li><strong>Apple Silicon</strong> (M1, M2, M3, etc.)</li> <li><strong>Intel</strong> con procesador de 2010 o más nuevo</li> <li>Necesita <strong>macOS actualizado</strong></li> </ul> <p>🐧 <strong>Linux</strong> (versión nativa)</p> <ul> <li><strong>Distribuciones compatibles</strong>:</li> <li>Ubuntu 20.04 LTS o superior</li> <li>Debian 11 o superior</li> <li>Fedora 36 o superior</li> <li>Arch Linux (y derivados)</li> <li><strong>Requisitos</strong>: kernel 5.10+, systemd, 64-bit</li> </ul> <h4 id="guia-rapida-de-instalacion"><strong>Guía Rápida de Instalación</strong><a class="headerlink" href="#guia-rapida-de-instalacion" title="Permanent link">¶</a></h4> <p><strong>Windows:</strong></p> <ol> <li>Descarga desde <a href="https://www.docker.com/products/docker-desktop/">docker.com/products/docker-desktop</a></li> <li>Ejecuta el instalador <code>.exe</code></li> <li>Sigue el asistente (marca "Use WSL 2" si tienes Windows Home)</li> <li>Reinicia cuando termine</li> <li>¡Listo! Docker se inicia automáticamente</li> </ol> <p><strong>macOS:</strong></p> <ol> <li>Descarga desde la web oficial</li> <li>Arrastra Docker.app a la carpeta Applications</li> <li>Ejecuta desde Launchpad</li> <li>Autoriza con contraseña del sistema</li> <li>Espera a que configure todo (puede tardar unos minutos)</li> </ol> <p><strong>Linux (Ubuntu/Debian ejemplo):</strong></p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><span class="c1"># Paso 1: Descargar .deb oficial</span>
</span><span id="__span-3-2">wget<span class="w"> </span>https://desktop.docker.com/linux/main/amd64/docker-desktop-4.25.0-amd64.deb
</span><span id="__span-3-3">
</span><span id="__span-3-4"><span class="c1"># Paso 2: Instalar</span>
</span><span id="__span-3-5">sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>./docker-desktop-*.deb
</span><span id="__span-3-6">
</span><span id="__span-3-7"><span class="c1"># Paso 3: Iniciar</span>
</span><span id="__span-3-8">systemctl<span class="w"> </span>--user<span class="w"> </span>start<span class="w"> </span>docker-desktop
</span></code></pre></div></td></tr></table></div> <details class="warning"> <summary>Problemas con Ubuntu 24.04</summary> <p>Si tienes problemas con Ubuntu 24.04, yo me he encontrado dos:</p> <ol> <li> <p>Problema de permisos </p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1">...
</span><span id="__span-4-2">S<span class="s1">'estan processant els activadors per a desktop-file-utils (0.27-2build1)…</span>
</span><span id="__span-4-3"><span class="s1">N: La baixada es duu a terme fora de l'</span>entorn<span class="w"> </span>segur<span class="w"> </span>com<span class="w"> </span>a<span class="w"> </span>root<span class="w"> </span>ja<span class="w"> </span>que<span class="w"> </span>el<span class="w"> </span>fitxer<span class="w"> </span>«/home/ubuntu/docker-desktop-4.27.2-amd64.deb»<span class="w"> </span>no<span class="w"> </span>és<span class="w"> </span>accessible<span class="w"> </span>per<span class="w"> </span>l<span class="err">'</span>usuari<span class="w"> </span>«_apt».<span class="w"> </span>-<span class="w"> </span>pkgAcquire::Run<span class="w"> </span><span class="o">(</span><span class="m">13</span>:<span class="w"> </span>Permission<span class="w"> </span>denied<span class="o">)</span>
</span></code></pre></div></td></tr></table></div> <p>Lo he resuelto cambiando los permisos del deb: </p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><span class="c1"># Change ownership of the file to make it accessible</span>
</span><span id="__span-5-2">sudo<span class="w"> </span>chown<span class="w"> </span>_apt:root<span class="w"> </span>/home/ubuntu/docker-desktop-4.27.2-amd64.deb
</span><span id="__span-5-3"><span class="c1"># Or alternatively, change permissions to make it readable</span>
</span><span id="__span-5-4">sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">644</span><span class="w"> </span>/home/ubuntu/docker-desktop-4.27.2-amd64.deb
</span></code></pre></div></td></tr></table></div> </li> <li> <p>Lanzas Docker-desktop, aparece el icono, pero desaparece y la aplicación no incia: Parece un problema con un cambio en Ubuntu 24.04 que he resuelto con la información de este <a href="https://askubuntu.com/questions/1511725/ubuntu-24-04-docker-desktop-is-not-starting/1519662#1519662">post</a>: </p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1">sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>kernel.apparmor_restrict_unprivileged_userns<span class="o">=</span><span class="m">0</span>
</span><span id="__span-6-2">systemctl<span class="w"> </span>--user<span class="w"> </span>restart<span class="w"> </span>docker-desktop
</span></code></pre></div></td></tr></table></div> <p>En algunos casos parece que la solución anterior solo sirve hasta que reinicias, si es así, prueba esto también:</p> <p>Crea un nuevo fichero: </p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1">sudo<span class="w"> </span>nano<span class="w"> </span>/etc/apparmor.d/opt.docker-desktop.bin.com.docker.backend
</span></code></pre></div></td></tr></table></div> <p>Escribe dentro el siguiente contenido: </p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1">abi<span class="w"> </span>&lt;abi/4.0&gt;,
</span><span id="__span-8-2">
</span><span id="__span-8-3">include<span class="w"> </span>&lt;tunables/global&gt;
</span><span id="__span-8-4">
</span><span id="__span-8-5">/opt/docker-desktop/bin/com.docker.backend<span class="w"> </span><span class="nv">flags</span><span class="o">=(</span>default_allow<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-8-6">userns,
</span><span id="__span-8-7">
</span><span id="__span-8-8"><span class="c1"># Site-specific additions and overrides. See local/README for details.</span>
</span><span id="__span-8-9">include<span class="w"> </span><span class="k">if</span><span class="w"> </span>exists<span class="w"> </span>&lt;local/opt.docker-desktop.bin.com.docker.backend&gt;
</span><span id="__span-8-10"><span class="o">}</span>
</span></code></pre></div></td></tr></table></div> <p>Reinicia el servicio <code>apparmor.service</code>: </p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1">sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>apparmor.service
</span></code></pre></div></td></tr></table></div> </li> </ol> </details> <h4 id="ventajas-docker-desktop-gui-vs-linea-de-comandos-cli">Ventajas docker desktop (GUI) vs Línea de Comandos (CLI)<a class="headerlink" href="#ventajas-docker-desktop-gui-vs-linea-de-comandos-cli" title="Permanent link">¶</a></h4> <p>✅ <strong>Ventajas de Docker Desktop:</strong></p> <ul> <li><strong>Más fácil para empezar</strong> - Ideal para principiantes</li> <li><strong>Todo integrado</strong> - No necesitas instalar nada más</li> <li><strong>Debugging visual</strong> - Ves los logs y estados de un vistazo</li> <li><strong>Gestión de recursos</strong> - Controlas CPU/RAM fácilmente</li> </ul> <p>❌ <strong>Desventajas:</strong></p> <ul> <li><strong>Más pesado</strong> - Consume más recursos de tu PC</li> <li><strong>Menos flexible</strong> - Algunas opciones avanzadas solo por comandos</li> <li><strong>Dependes de la GUI</strong> - Si se cierra la app, pierdes la interfaz</li> </ul> <p>🎯 <strong>Conclusión:</strong></p> <ul> <li><strong>Empezad con Docker Desktop</strong> para aprender sin frustraciones</li> <li><strong>Aprended también los comandos básicos</strong> para ser más versátiles</li> <li>Usad <strong>ambos</strong>: la GUI para lo cotidiano y la terminal para lo avanzado</li> </ul> <h2 id="uso">Uso<a class="headerlink" href="#uso" title="Permanent link">¶</a></h2> <h3 id="comandos-basicos">Comandos básicos<a class="headerlink" href="#comandos-basicos" title="Permanent link">¶</a></h3> <h4 id="gestion-de-imagenes">Gestión de imagenes<a class="headerlink" href="#gestion-de-imagenes" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1">docker<span class="w"> </span>image
</span><span id="__span-10-2">docker<span class="w"> </span><span class="nb">history</span>
</span><span id="__span-10-3">docker<span class="w"> </span>inspect
</span><span id="__span-10-4">docker<span class="w"> </span>save/load
</span><span id="__span-10-5">docker<span class="w"> </span>rmi
</span></code></pre></div></td></tr></table></div> <h4 id="gestion-de-contenedores">Gestión de contenedores<a class="headerlink" href="#gestion-de-contenedores" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1">docker<span class="w"> </span>attach
</span><span id="__span-11-2">docker<span class="w"> </span><span class="nb">exec</span>
</span><span id="__span-11-3">docker<span class="w"> </span>inspect
</span><span id="__span-11-4">docker<span class="w"> </span><span class="nb">kill</span>
</span><span id="__span-11-5">docker<span class="w"> </span>logs
</span><span id="__span-11-6">docker<span class="w"> </span>pause/unpause
</span><span id="__span-11-7">docker<span class="w"> </span>port
</span><span id="__span-11-8">docker<span class="w"> </span>ps
</span><span id="__span-11-9">docker<span class="w"> </span>rename
</span><span id="__span-11-10">docker<span class="w"> </span>start/stop/restart
</span><span id="__span-11-11">docker<span class="w"> </span>rm
</span><span id="__span-11-12">docker<span class="w"> </span>run
</span><span id="__span-11-13">docker<span class="w"> </span>stats
</span><span id="__span-11-14">docker<span class="w"> </span>top
</span><span id="__span-11-15">docker<span class="w"> </span>update
</span></code></pre></div></td></tr></table></div> <h4 id="ejemplo">Ejemplo<a class="headerlink" href="#ejemplo" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-1"><span class="c1"># Ver los contenedores que tenemos</span>
</span><span id="__span-12-2">docker<span class="w"> </span>ps
</span><span id="__span-12-3">CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">     </span>COMMAND<span class="w">   </span>CREATED<span class="w">   </span>STATUS<span class="w">    </span>PORTS<span class="w">     </span>NAMES
</span><span id="__span-12-4">
</span><span id="__span-12-5"><span class="c1"># Ver las imagenes que tenemos</span>
</span><span id="__span-12-6">docker<span class="w"> </span>images
</span><span id="__span-12-7">REPOSITORY<span class="w">                             </span>TAG<span class="w">       </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">        </span>SIZE
</span><span id="__span-12-8">
</span><span id="__span-12-9"><span class="c1"># Crear un contenedor con una imagen básica de debian</span>
</span><span id="__span-12-10"><span class="c1"># Como no tenemos ninguna imagen de debian, la descarga y la ejecuta</span>
</span><span id="__span-12-11">docker<span class="w"> </span>run<span class="w"> </span>debian
</span><span id="__span-12-12"><span class="c1"># Intentamos ver el contenedor en ejecución, no aparece nada porque ya se ha cerrado</span>
</span><span id="__span-12-13">docker<span class="w"> </span>ps
</span><span id="__span-12-14"><span class="c1"># Podemos verlo con</span>
</span><span id="__span-12-15">docker<span class="w"> </span>ps<span class="w"> </span>-a
</span><span id="__span-12-16">CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">     </span>COMMAND<span class="w">       </span>CREATED<span class="w">              </span>STATUS<span class="w">                          </span>PORTS<span class="w">     </span>NAMES
</span><span id="__span-12-17">09b14daab800<span class="w">   </span>debian<span class="w">    </span><span class="s2">"bash"</span><span class="w">        </span><span class="m">2</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">        </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>second<span class="w"> </span>ago<span class="w">                   </span>pensive_wozniak
</span><span id="__span-12-18">
</span><span id="__span-12-19"><span class="c1"># Ejecutar un comando en un contenedor</span>
</span><span id="__span-12-20">docker<span class="w"> </span>run<span class="w"> </span>debian<span class="w"> </span>/bin/echo<span class="w"> </span><span class="s2">"Hello World"</span>
</span><span id="__span-12-21">Hello<span class="w"> </span>World
</span><span id="__span-12-22">
</span><span id="__span-12-23"><span class="c1"># Información</span>
</span><span id="__span-12-24">docker<span class="w"> </span>inspect<span class="w"> </span>debian
</span></code></pre></div></td></tr></table></div> <h3 id="crear-contenedor-interactivo-y-con-nombre">Crear contenedor interactivo y con nombre<a class="headerlink" href="#crear-contenedor-interactivo-y-con-nombre" title="Permanent link">¶</a></h3> <p><a href="https://jolthgs.wordpress.com/2019/09/25/create-a-debian-container-in-docker-for-development/">https://jolthgs.wordpress.com/2019/09/25/create-a-debian-container-in-docker-for-development/</a></p> <p>Para que docker no se invente un nombre como “pensive_wozniak” (comando anterior) podemos definir el nombre que queremos.</p> <p>Utilizaremos una de las imágenes de: <a href="https://hub.docker.com/_/debian/tags">https://hub.docker.com/_/debian/tags</a></p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><span class="c1"># Obtenemos la imagen, en el apartado aterior la hemos ejecutado directamente con "run", esto</span>
</span><span id="__span-13-2"><span class="c1"># la obtiene implícitamente. En este caso la vamos a descargar.</span>
</span><span id="__span-13-3">$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>debian:13-slim
</span><span id="__span-13-4">
</span><span id="__span-13-5"><span class="c1"># --name</span>
</span><span id="__span-13-6"><span class="c1"># -h hostname que tendrá el contenedor</span>
</span><span id="__span-13-7"><span class="c1"># -e codificación de caracteres</span>
</span><span id="__span-13-8"><span class="c1"># -it modo interactivo</span>
</span><span id="__span-13-9"><span class="c1"># /bin/bash -l  la shell que se ejecutará</span>
</span><span id="__span-13-10">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>debian-mini<span class="w"> </span>-h<span class="w"> </span>equipo1<span class="w"> </span>-e<span class="w"> </span><span class="nv">LANG</span><span class="o">=</span>C.UTF-8<span class="w"> </span>-it<span class="w"> </span>debian:13-slim<span class="w"> </span>/bin/bash<span class="w"> </span>-l
</span><span id="__span-13-11">
</span><span id="__span-13-12">---<span class="w"> </span>Estamos<span class="w"> </span>dentro<span class="w"> </span>del<span class="w"> </span>contenedor<span class="w"> </span>---
</span><span id="__span-13-13"><span class="c1"># Una vez dentro del contenedor podemos actualizarlo e instalar los paquetes que creamos necesarios</span>
</span><span id="__span-13-14">apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt<span class="w"> </span>upgrade<span class="w"> </span>--yes<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>sudo<span class="w"> </span>locales<span class="w"> </span>--yes
</span><span id="__span-13-15"><span class="c1"># Configurar timezone</span>
</span><span id="__span-13-16">dpkg-reconfigure<span class="w"> </span>tzdata
</span><span id="__span-13-17">
</span><span id="__span-13-18"><span class="c1"># Vamos a nuestra home y creamos un archivo</span>
</span><span id="__span-13-19"><span class="nb">cd</span>
</span><span id="__span-13-20"><span class="nb">echo</span><span class="w"> </span><span class="s2">"hola"</span><span class="w"> </span>&gt;<span class="w"> </span>prueba.txt
</span><span id="__span-13-21">
</span><span id="__span-13-22"><span class="c1"># Salimos del contenedor</span>
</span><span id="__span-13-23"><span class="nb">exit</span><span class="w"> </span><span class="o">(</span>o<span class="w"> </span>control<span class="w"> </span>+<span class="w"> </span>d<span class="o">)</span>
</span><span id="__span-13-24">
</span><span id="__span-13-25">---<span class="w"> </span>Ahora<span class="w"> </span>volvemos<span class="w"> </span>a<span class="w"> </span>la<span class="w"> </span>consola<span class="w"> </span>de<span class="w"> </span>nuestro<span class="w"> </span>equipo<span class="w"> </span>---
</span><span id="__span-13-26">$<span class="w"> </span>docker<span class="w"> </span>ps
</span><span id="__span-13-27">CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">     </span>COMMAND<span class="w">   </span>CREATED<span class="w">   </span>STATUS<span class="w">    </span>PORTS<span class="w">     </span>NAMES
</span><span id="__span-13-28">
</span><span id="__span-13-29">$<span class="w"> </span>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span><span id="__span-13-30">CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">            </span>COMMAND<span class="w">          </span>CREATED<span class="w">          </span>STATUS<span class="w">                      </span>PORTS<span class="w">     </span>NAMES
</span><span id="__span-13-31">8c6b29c818ee<span class="w">   </span>debian:13-slim<span class="w">   </span><span class="s2">"/bin/bash -l"</span><span class="w">   </span><span class="m">44</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="m">11</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">             </span>debian-mini
</span></code></pre></div></td></tr></table></div> <h3 id="imagenes">Imágenes<a class="headerlink" href="#imagenes" title="Permanent link">¶</a></h3> <p>Es un instalador donde podemos incorporar nuestra aplicación. Es el punto de inicio para crear contenedores. Hay imágenes oficiales de por ejemplo Ubuntu, Apache, etc, que fueron creadas por sus creadores oficiales.</p> <p>Página oficial para imágenes: <a href="https://hub.docker.com">https://hub.docker.com</a></p> <p>Vamos a utilizar la siguiente imagen para pruebas:</p> <p><a href="https://hub.docker.com/_/hello-world">https://hub.docker.com/_/hello-world</a></p> <p>Para ejecutar este contenedor “hello-word” escribimos en la terminal:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1">docker<span class="w"> </span>run<span class="w"> </span>hello-world
</span></code></pre></div></td></tr></table></div> <p>Una vez ejecutado, ya dispondremos de la imagen descargada, podemos ver todas las imágenes que tenemos descargadas con:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1">docker<span class="w"> </span>images
</span><span id="__span-15-2">
</span><span id="__span-15-3">REPOSITORY<span class="w">                              </span>TAG<span class="w">           </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">        </span>SIZE
</span><span id="__span-15-4">hello-world<span class="w">                             </span>latest<span class="w">        </span>ee301c921b8a<span class="w">   </span><span class="m">9</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">   </span><span class="m">9</span>.14kB
</span></code></pre></div></td></tr></table></div> <p>Desde la página web de docker hub, podemos ver diferentes versiones de la misma imagen en la pestaña “TAGS”</p> <p><img alt="Tags" src="assets/docker6.jpg" width="700"/></p> <p>Podemos descargar una imagen específica y ejecutarla:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1">docker<span class="w"> </span>run<span class="w"> </span>hello-world:linux
</span><span id="__span-16-2">
</span><span id="__span-16-3">docker<span class="w"> </span>images
</span><span id="__span-16-4">REPOSITORY<span class="w">                              </span>TAG<span class="w">           </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">        </span>SIZE
</span><span id="__span-16-5">hello-world<span class="w">                             </span>latest<span class="w">        </span>ee301c921b8a<span class="w">   </span><span class="m">9</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">   </span><span class="m">9</span>.14kB
</span><span id="__span-16-6">hello-world<span class="w">                             </span>linux<span class="w">         </span>ee301c921b8a<span class="w">   </span><span class="m">9</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">   </span><span class="m">9</span>.14kB
</span><span id="__span-16-7">
</span><span id="__span-16-8">docker<span class="w"> </span>run<span class="w"> </span>hello-world:linux
</span></code></pre></div></td></tr></table></div> <p>Para eliminar una imagen utilizamos el parámetro <code>rmi</code> por ejemplo:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1">docker<span class="w"> </span>pull<span class="w"> </span>alpine
</span><span id="__span-17-2">
</span><span id="__span-17-3">docker<span class="w"> </span>images
</span><span id="__span-17-4">REPOSITORY<span class="w">                              </span>TAG<span class="w">           </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">        </span>SIZE
</span><span id="__span-17-5">alpine<span class="w">                                  </span>latest<span class="w">        </span>ace17d5d883e<span class="w">   </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">    </span><span class="m">7</span>.73MB
</span><span id="__span-17-6">hello-world<span class="w">                             </span>latest<span class="w">        </span>ee301c921b8a<span class="w">   </span><span class="m">9</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">   </span><span class="m">9</span>.14kB
</span><span id="__span-17-7">hello-world<span class="w">                             </span>linux<span class="w">         </span>ee301c921b8a<span class="w">   </span><span class="m">9</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">   </span><span class="m">9</span>.14kB
</span><span id="__span-17-8">
</span><span id="__span-17-9"><span class="c1"># Eliminamos, opción 1</span>
</span><span id="__span-17-10">docker<span class="w"> </span>rmi<span class="w"> </span>ace17d5d883e
</span><span id="__span-17-11">
</span><span id="__span-17-12"><span class="c1"># Eliminamos, opción 2</span>
</span><span id="__span-17-13">docker<span class="w"> </span>rmi<span class="w"> </span>alpine
</span><span id="__span-17-14">
</span><span id="__span-17-15"><span class="c1"># Eliminamos, opción 3</span>
</span><span id="__span-17-16">docker<span class="w"> </span>rmi<span class="w"> </span>ace1
</span></code></pre></div></td></tr></table></div> <p>También se pueden buscar imágenes desde consola.</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1">docker<span class="w"> </span>search<span class="w"> </span>ubuntu
</span><span id="__span-18-2">
</span><span id="__span-18-3">NAME<span class="w">                             </span>DESCRIPTION<span class="w">                                     </span>STARS<span class="w">     </span>OFFICIAL
</span><span id="__span-18-4">ubuntu<span class="w">                           </span>Ubuntu<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>Debian-based<span class="w"> </span>Linux<span class="w"> </span>operating<span class="w"> </span>sys…<span class="w">   </span><span class="m">16888</span><span class="w">     </span><span class="o">[</span>OK<span class="o">]</span>
</span><span id="__span-18-5">websphere-liberty<span class="w">                </span>WebSphere<span class="w"> </span>Liberty<span class="w"> </span>multi-architecture<span class="w"> </span>images<span class="w"> </span>…<span class="w">   </span><span class="m">298</span><span class="w">       </span><span class="o">[</span>OK<span class="o">]</span>
</span><span id="__span-18-6">open-liberty<span class="w">                     </span>Open<span class="w"> </span>Liberty<span class="w"> </span>multi-architecture<span class="w"> </span>images<span class="w"> </span>based…<span class="w">   </span><span class="m">64</span><span class="w">        </span><span class="o">[</span>OK<span class="o">]</span>
</span><span id="__span-18-7">neurodebian<span class="w">                      </span>NeuroDebian<span class="w"> </span>provides<span class="w"> </span>neuroscience<span class="w"> </span>research<span class="w"> </span>s…<span class="w">   </span><span class="m">106</span><span class="w">       </span><span class="o">[</span>OK<span class="o">]</span>
</span><span id="__span-18-8">ubuntu-debootstrap<span class="w">               </span>DEPRECATED<span class="p">;</span><span class="w"> </span>use<span class="w"> </span><span class="s2">"ubuntu"</span><span class="w"> </span>instead<span class="w">                </span><span class="m">52</span><span class="w">        </span><span class="o">[</span>OK<span class="o">]</span>
</span><span id="__span-18-9">ubuntu-upstart<span class="w">                   </span>DEPRECATED,<span class="w"> </span>as<span class="w"> </span>is<span class="w"> </span>Upstart<span class="w"> </span><span class="o">(</span>find<span class="w"> </span>other<span class="w"> </span>proces…<span class="w">   </span><span class="m">115</span><span class="w">       </span><span class="o">[</span>OK<span class="o">]</span>
</span><span id="__span-18-10">ubuntu/nginx<span class="w">                     </span>Nginx,<span class="w"> </span>a<span class="w"> </span>high-performance<span class="w"> </span>reverse<span class="w"> </span>proxy<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>we…<span class="w">   </span><span class="m">112</span>
</span><span id="__span-18-11">ubuntu/squid<span class="w">                     </span>Squid<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>caching<span class="w"> </span>proxy<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>Web.<span class="w"> </span>Long-t…<span class="w">   </span><span class="m">83</span>
</span><span id="__span-18-12">ubuntu/cortex<span class="w">                    </span>Cortex<span class="w"> </span>provides<span class="w"> </span>storage<span class="w"> </span><span class="k">for</span><span class="w"> </span>Prometheus.<span class="w"> </span>Long…<span class="w">   </span><span class="m">4</span>
</span><span id="__span-18-13">ubuntu/prometheus<span class="w">                </span>Prometheus<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>systems<span class="w"> </span>and<span class="w"> </span>service<span class="w"> </span>monitori…<span class="w">   </span><span class="m">56</span>
</span><span id="__span-18-14">ubuntu/apache2<span class="w">                   </span>Apache,<span class="w"> </span>a<span class="w"> </span>secure<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>extensible<span class="w"> </span>open-source<span class="w"> </span>HT…<span class="w">   </span><span class="m">70</span>
</span><span id="__span-18-15">...
</span></code></pre></div></td></tr></table></div> <h3 id="volumenes">Volúmenes<a class="headerlink" href="#volumenes" title="Permanent link">¶</a></h3> <p>Los volúmenes sirven para almacenar información de manera persistente en uno o varios contenedores. Es útil para que los archivos ya estén integrados en el propio contenedor y podamos disponer de dichos archivos en diferentes contenedores diferentes.</p> <p>También nos permiten compartir archivos con el contenedor. Modificarlos en local y que se modifiquen en el contenedor.</p> <h4 id="operaciones-con-volumenes">Operaciones con volúmenes<a class="headerlink" href="#operaciones-con-volumenes" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1"><span class="c1"># Ver disponibles</span>
</span><span id="__span-19-2">docker<span class="w"> </span>volume<span class="w"> </span>ls
</span><span id="__span-19-3">DRIVER<span class="w">    </span>VOLUME<span class="w"> </span>NAME
</span><span id="__span-19-4">
</span><span id="__span-19-5"><span class="c1"># Creamos un volumen</span>
</span><span id="__span-19-6">docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>almacen
</span><span id="__span-19-7">almacen
</span><span id="__span-19-8">
</span><span id="__span-19-9">docker<span class="w"> </span>volume<span class="w"> </span>ls
</span><span id="__span-19-10">DRIVER<span class="w">    </span>VOLUME<span class="w"> </span>NAME
</span><span id="__span-19-11"><span class="nb">local</span><span class="w">     </span>almacen
</span><span id="__span-19-12">
</span><span id="__span-19-13">docker<span class="w"> </span>volume<span class="w"> </span>inspect<span class="w"> </span>almacen
</span><span id="__span-19-14"><span class="o">[</span>
</span><span id="__span-19-15"><span class="w">    </span><span class="o">{</span>
</span><span id="__span-19-16"><span class="w">        </span><span class="s2">"CreatedAt"</span>:<span class="w"> </span><span class="s2">"2024-02-20T11:10:58Z"</span>,
</span><span id="__span-19-17"><span class="w">        </span><span class="s2">"Driver"</span>:<span class="w"> </span><span class="s2">"local"</span>,
</span><span id="__span-19-18"><span class="w">        </span><span class="s2">"Labels"</span>:<span class="w"> </span>null,
</span><span id="__span-19-19"><span class="w">        </span><span class="s2">"Mountpoint"</span>:<span class="w"> </span><span class="s2">"/var/lib/docker/volumes/almacen/_data"</span>,
</span><span id="__span-19-20"><span class="w">        </span><span class="s2">"Name"</span>:<span class="w"> </span><span class="s2">"almacen"</span>,
</span><span id="__span-19-21"><span class="w">        </span><span class="s2">"Options"</span>:<span class="w"> </span>null,
</span><span id="__span-19-22"><span class="w">        </span><span class="s2">"Scope"</span>:<span class="w"> </span><span class="s2">"local"</span>
</span><span id="__span-19-23"><span class="w">    </span><span class="o">}</span>
</span><span id="__span-19-24"><span class="o">]</span>
</span><span id="__span-19-25">
</span><span id="__span-19-26"><span class="c1"># Lo borramos</span>
</span><span id="__span-19-27">docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>almacen
</span></code></pre></div></td></tr></table></div> <h4 id="ejemplo-compartir-volumenes-con-host">Ejemplo: compartir volúmenes con host<a class="headerlink" href="#ejemplo-compartir-volumenes-con-host" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1"><span class="c1"># Creamos un punto de montaje</span>
</span><span id="__span-20-2">docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span>-v<span class="w"> </span>/tmp/puntomontaje:/home<span class="w"> </span>ubuntu
</span></code></pre></div></td></tr></table></div> <h4 id="ejemplo-compartir-volumenes-con-contenedores">Ejemplo: compartir volúmenes con contenedores<a class="headerlink" href="#ejemplo-compartir-volumenes-con-contenedores" title="Permanent link">¶</a></h4> <p>Vamos a crear un volumen para compartir archivos entre nuestro sistema de ficheros local y 2 contenedores (ubuntu y fedora).</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1">docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>almacen
</span><span id="__span-21-2">
</span><span id="__span-21-3"><span class="c1"># Descargamos la imagen de ubuntu</span>
</span><span id="__span-21-4">docker<span class="w"> </span>pull<span class="w"> </span>ubuntu
</span><span id="__span-21-5"><span class="c1"># Descargamos la imagen de fedora</span>
</span><span id="__span-21-6">docker<span class="w"> </span>pull<span class="w"> </span>fedora
</span><span id="__span-21-7">
</span><span id="__span-21-8">docker<span class="w"> </span>images
</span><span id="__span-21-9">REPOSITORY<span class="w">                             </span>TAG<span class="w">       </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">        </span>SIZE
</span><span id="__span-21-10">ubuntu<span class="w">                                 </span>latest<span class="w">    </span>a50ab9f16797<span class="w">   </span><span class="m">7</span><span class="w"> </span>days<span class="w"> </span>ago<span class="w">     </span><span class="m">69</span>.2MB
</span><span id="__span-21-11">fedora<span class="w">                                 </span>latest<span class="w">    </span>46243415778a<span class="w">   </span><span class="m">2</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">   </span>259MB
</span><span id="__span-21-12">
</span><span id="__span-21-13"><span class="c1">## Creamos un contenedor, modo interactivo</span>
</span><span id="__span-21-14">docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span>-v<span class="w"> </span>almacen:/home<span class="w"> </span>ubuntu
</span><span id="__span-21-15"><span class="c1"># dentro del contenedor</span>
</span><span id="__span-21-16"><span class="nb">cd</span><span class="w"> </span>/home
</span><span id="__span-21-17">touch<span class="w"> </span>prueba.txt
</span><span id="__span-21-18"><span class="nb">exit</span><span class="w"> </span><span class="c1"># -&gt; Salimos del contenedor</span>
</span><span id="__span-21-19">
</span><span id="__span-21-20"><span class="c1">## Creamos otro contenedor, modo interactivo</span>
</span><span id="__span-21-21">docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-it<span class="w"> </span>-v<span class="w"> </span>almacen:/home<span class="w"> </span>fedora
</span><span id="__span-21-22"><span class="c1"># dentro del contenedor</span>
</span><span id="__span-21-23"><span class="nb">cd</span><span class="w"> </span>/home
</span><span id="__span-21-24">ls<span class="w"> </span>-&gt;<span class="w"> </span>existe<span class="w"> </span>el<span class="w"> </span>archivo<span class="w"> </span>prueba.txt
</span></code></pre></div></td></tr></table></div> <h3 id="diferencias-docker-compose-vs-dockerfile">Diferencias docker-compose vs DockerFile<a class="headerlink" href="#diferencias-docker-compose-vs-dockerfile" title="Permanent link">¶</a></h3> <p><a href="https://blog.elhacker.net/2022/01/gestion-contenedores-dockerfile-y-docker-compose.html">https://blog.elhacker.net/2022/01/gestion-contenedores-dockerfile-y-docker-compose.html</a></p> <h4 id="docker-compose">Docker Compose<a class="headerlink" href="#docker-compose" title="Permanent link">¶</a></h4> <p>Docker Compose es una herramienta que permite simplificar el uso de Docker. A partir de archivos YAML es mas sencillo crear contenedores, conectarlos, habilitar puertos, volúmenes, etc.</p> <p>Con Compose puedes crear diferentes contenedores y al mismo tiempo, en cada contenedor, diferentes servicios, unirlos a un volúmen común, iniciarlos y apagarlos, etc. Es un componente fundamental para poder construir aplicaciones y microservicios</p> <p><strong>Parámetros docker-compose.yml</strong></p> <ul> <li><em>“<strong>version</strong> ‘3’</em>: Los archivos docker-compose.yml son versionados, lo que significa que es muy importante indicar la versión de las instrucciones que queremos darle. A medida de que Docker evoluciona, habrá nuevas versiones, pero de todos modos, siempre hay compatibilidad hacia atrás, al indicar la versión</li> <li><em>“<strong>build</strong> .”</em>: Se utiliza para indicar donde está el Dockerfile que queremos utilizar para crear el contenedor. Al definier “.” automáticamente considerará el Dockerfile existente en directorio actual.</li> <li><em>“<strong>command</strong>”</em>: Una vez creado el contenedor, aqui lanzamos el comando que permite ejecutar Jekyll, en modo servidor. El comando “–host 0.0.0.0” sirve para mapear el contenedor al sistema operativo host</li> <li><em>“<strong>ports</strong>”</em>: mapeamos los puertos locales, por ejemplo 4000 (webserver jekyll) y 35729 (livereload) al servidor host. Esto permite que accediendo a Localhost:4000 podamos probar el sitio generador por Jekyll</li> <li><em>“<strong>volumes</strong>”</em>: lo que hacemos es mapear el directorio local se mapee directamente con el /directoriox, lugar donde hemos creado la aplicación. De este modo, cualquier cambio en el directorio local en el host, se hará de inmediato en el contenedor.</li> </ul> <p><img alt="comandos docker" src="assets/docker7.jpg" width="500"/></p> <p>Ejemplo, creación contenedor con wordpress:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1">mkdir<span class="w"> </span>/tmp/wp
</span><span id="__span-22-2"><span class="nb">cd</span><span class="w"> </span>/tmp/wp
</span><span id="__span-22-3">
</span><span id="__span-22-4">nano<span class="w"> </span>docker-compose.yml
</span></code></pre></div></td></tr></table></div> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-1">version:<span class="w"> </span><span class="s1">'3'</span><span class="w"> </span><span class="c1">#Utilizamos la versión 3</span>
</span><span id="__span-23-2">
</span><span id="__span-23-3"><span class="c1">## Nos saltamos la sección network </span>
</span><span id="__span-23-4">
</span><span id="__span-23-5">services:
</span><span id="__span-23-6"><span class="w">    </span>db:
</span><span id="__span-23-7"><span class="w">        </span>image:<span class="w"> </span>mariadb:10.3.9
</span><span id="__span-23-8"><span class="w">        </span>volumes:
</span><span id="__span-23-9"><span class="w">            </span>-<span class="w"> </span>data:/var/lib/mysql
</span><span id="__span-23-10"><span class="w">        </span>environment:
</span><span id="__span-23-11"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>secret
</span><span id="__span-23-12"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_DATABASE</span><span class="o">=</span>wordpress
</span><span id="__span-23-13"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_USER</span><span class="o">=</span>manager
</span><span id="__span-23-14"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_PASSWORD</span><span class="o">=</span>secret
</span><span id="__span-23-15"><span class="w">            </span><span class="c1">## Equivalente a</span>
</span><span id="__span-23-16"><span class="w">            </span><span class="c1">## docker run -d --name wordpress-db \</span>
</span><span id="__span-23-17"><span class="w">            </span><span class="c1">## --mount source=wordpress-db,target=/var/lib/mysql \</span>
</span><span id="__span-23-18"><span class="w">            </span><span class="c1">## -e MYSQL_ROOT_PASSWORD=secret \</span>
</span><span id="__span-23-19"><span class="w">            </span><span class="c1">## -e MYSQL_DATABASE=wordpress \</span>
</span><span id="__span-23-20"><span class="w">            </span><span class="c1">## -e MYSQL_USER=manager \</span>
</span><span id="__span-23-21"><span class="w">            </span><span class="c1">## -e MYSQL_PASSWORD=secret mariadb:10.3.9</span>
</span><span id="__span-23-22">
</span><span id="__span-23-23"><span class="w">    </span>web:
</span><span id="__span-23-24"><span class="w">        </span>image:<span class="w"> </span>wordpress:4.9.8
</span><span id="__span-23-25"><span class="w">        </span>depends_on:
</span><span id="__span-23-26"><span class="w">            </span>-<span class="w"> </span>db
</span><span id="__span-23-27"><span class="w">        </span>volumes:
</span><span id="__span-23-28"><span class="w">            </span>-<span class="w"> </span>./target:/var/www/html
</span><span id="__span-23-29"><span class="w">        </span>environment:
</span><span id="__span-23-30"><span class="w">            </span>-<span class="w"> </span><span class="nv">WORDPRESS_DB_USER</span><span class="o">=</span>manager
</span><span id="__span-23-31"><span class="w">            </span>-<span class="w"> </span><span class="nv">WORDPRESS_DB_PASSWORD</span><span class="o">=</span>secret
</span><span id="__span-23-32"><span class="w">            </span>-<span class="w"> </span><span class="nv">WORDPRESS_DB_HOST</span><span class="o">=</span>db
</span><span id="__span-23-33"><span class="w">        </span>ports:
</span><span id="__span-23-34"><span class="w">            </span>-<span class="w"> </span><span class="m">8080</span>:80
</span><span id="__span-23-35"><span class="w">            </span><span class="c1">## Equivalente a</span>
</span><span id="__span-23-36"><span class="w">            </span><span class="c1">## docker run -d --name wordpress \</span>
</span><span id="__span-23-37"><span class="w">            </span><span class="c1">## --link wordpress-db:mysql \</span>
</span><span id="__span-23-38"><span class="w">            </span><span class="c1">## --mount type=bind,source="$(pwd)"/target,target=/var/www/html \</span>
</span><span id="__span-23-39"><span class="w">            </span><span class="c1">## -e WORDPRESS_DB_USER=manager \</span>
</span><span id="__span-23-40"><span class="w">            </span><span class="c1">## -e WORDPRESS_DB_PASSWORD=secret \</span>
</span><span id="__span-23-41"><span class="w">            </span><span class="c1">## -p 8080:80 \</span>
</span><span id="__span-23-42"><span class="w">            </span><span class="c1">## wordpress:4.9.8</span>
</span><span id="__span-23-43">
</span><span id="__span-23-44">volumes:
</span><span id="__span-23-45"><span class="w">    </span>data:<span class="w"> </span><span class="c1"># creción de volumen, compose añade un prefijo por lo que se llamará worpdress_data</span>
</span></code></pre></div></td></tr></table></div> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1"><span class="c1"># Levantamos la aplicación</span>
</span><span id="__span-24-2">docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</span><span id="__span-24-3"><span class="c1"># El parámetro -d es similar al de docker run: nos permite levantar los servicios en segundo plano.</span>
</span><span id="__span-24-4">
</span><span id="__span-24-5">docker-compose<span class="w"> </span>ps
</span><span id="__span-24-6"><span class="c1">## docker-compose ps solo muestra información de los servicios que se define en docker-compose.yaml, mientras que docker muestra todos.</span>
</span><span id="__span-24-7">
</span><span id="__span-24-8"><span class="c1"># Detener servicios</span>
</span><span id="__span-24-9">docker-compose<span class="w"> </span>stop
</span><span id="__span-24-10">
</span><span id="__span-24-11"><span class="c1"># Borrar</span>
</span><span id="__span-24-12">docker-compose<span class="w"> </span>down
</span><span id="__span-24-13">
</span><span id="__span-24-14"><span class="c1"># Borrar volúmenes</span>
</span><span id="__span-24-15">docker-compose<span class="w"> </span>down<span class="w"> </span>-v
</span></code></pre></div></td></tr></table></div> <p>Cuando creamos contenedores con <code>docker</code> sin indicar un nombre, por defecto asigna uno aleatorio; mientras que en <em>Compose</em> el prefijo es el nombre del directorio y el sufijo el nombre del servicio: <strong>wordpress_db_1</strong>. El número indica el número de instancia. Es posible levantar más de una instancia de un mismo servicio.</p> <p>Equivalencia de parámetros</p> <table> <thead> <tr> <th><strong>parámetro <em>Docker</em></strong></th> <th><strong>parámetro <em>Composer</em></strong></th> </tr> </thead> <tbody> <tr> <td><code>--mount</code></td> <td><code>volumes</code></td> </tr> <tr> <td><code>-e</code></td> <td><code>environment</code></td> </tr> <tr> <td><code>-p,--publish</code></td> <td><code>ports</code></td> </tr> <tr> <td>se escribe el nombre de la imágen</td> <td><code>image</code></td> </tr> </tbody> </table> <p>Si reiniciamos el ordenador, los contenedores estarán detenidos (stop), podremos reiniciarlos con <code>docker start</code> o <code>docker-compose start</code>. Este es el comportamiento predeterminado y el que nos interesa en un entorno de desarrollo.</p> <p>Sin embargo, en otros entornos, o para casos concretos, igual queremos que un contenedor tenga el mismo estado en el que estaba antes de reiniciar la máquina (iniciado o parado).</p> <p>Para eso usaremos el parámetro <code>restart</code>. En el caso de la base de datos de nuestro ejemplo, la configuración quedaría como:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1">services:
</span><span id="__span-25-2"><span class="w">    </span>db:
</span><span id="__span-25-3"><span class="w">        </span>image:<span class="w"> </span>mariadb:10.3.9
</span><span id="__span-25-4"><span class="hll"><span class="w">        </span>restart:<span class="w"> </span>unless-stopped
</span></span><span id="__span-25-5"><span class="w">        </span>volumes:
</span><span id="__span-25-6"><span class="w">            </span>-<span class="w"> </span>data:/var/lib/mysql
</span><span id="__span-25-7"><span class="w">        </span>environment:
</span><span id="__span-25-8"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>secret
</span><span id="__span-25-9"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_DATABASE</span><span class="o">=</span>wordpress
</span><span id="__span-25-10"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_USER</span><span class="o">=</span>manager
</span><span id="__span-25-11"><span class="w">            </span>-<span class="w"> </span><span class="nv">MYSQL_PASSWORD</span><span class="o">=</span>secret
</span></code></pre></div></td></tr></table></div> <p>Otros valores son: <code>no</code> (por defecto), <code>always</code> y <code>on-failure</code>.</p> <h4 id="dockerfile">DockerFile<a class="headerlink" href="#dockerfile" title="Permanent link">¶</a></h4> <p><strong>Ejemplo básico</strong></p> <p>Nos ubicamos en la carpeta donde vayamos a trabajar con la imagen, por ejemplo voy a crear un directorio llamado <code>docker-images</code>.</p> <p>Y creamos una archivo <code>Dockerfile</code> con un editor de texto.</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-26-1">FROM<span class="w"> </span>ubuntu
</span><span id="__span-26-2">RUN<span class="w"> </span>apt<span class="w"> </span>update
</span><span id="__span-26-3">RUN<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python<span class="w"> </span><span class="m">3</span><span class="w"> </span>-y
</span><span id="__span-26-4">RUN<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>netris<span class="w"> </span>-y
</span></code></pre></div></td></tr></table></div> <p>Creamos la imagen según las órdenes anteriores:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1">docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>python-ubuntu<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div> <p><strong><em>Hay un error en el Dockerfile, corregir y volver a ejecutar el build.</em></strong></p> <p>Ya tenemos una imagen de ubuntu pero con python3 instalado:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1">docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>python-ubuntu
</span><span id="__span-28-2">
</span><span id="__span-28-3">python3
</span><span id="__span-28-4">
</span><span id="__span-28-5">Python<span class="w"> </span><span class="m">3</span>.10.12<span class="w"> </span><span class="o">(</span>main,<span class="w"> </span>Nov<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">2023</span>,<span class="w"> </span><span class="m">15</span>:14:05<span class="o">)</span><span class="w"> </span><span class="o">[</span>GCC<span class="w"> </span><span class="m">11</span>.4.0<span class="o">]</span><span class="w"> </span>on<span class="w"> </span>linux
</span><span id="__span-28-6">Type<span class="w"> </span><span class="s2">"help"</span>,<span class="w"> </span><span class="s2">"copyright"</span>,<span class="w"> </span><span class="s2">"credits"</span><span class="w"> </span>or<span class="w"> </span><span class="s2">"license"</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.
</span><span id="__span-28-7">&gt;&gt;&gt;
</span></code></pre></div></td></tr></table></div> <p>Una vez salimos podemos ver todas las “capas” de la imagen:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1">docker<span class="w"> </span><span class="nb">history</span><span class="w"> </span>-H<span class="w"> </span>python-ubuntu
</span><span id="__span-29-2">
</span><span id="__span-29-3">IMAGE<span class="w">          </span>CREATED<span class="w">         </span>CREATED<span class="w"> </span>BY<span class="w">                                      </span>SIZE<span class="w">      </span>COMMENT
</span><span id="__span-29-4">78732fd773c4<span class="w">   </span><span class="m">2</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">   </span>RUN<span class="w"> </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>netris<span class="w"> </span><span class="c1"># buildkit    1MB       buildkit.dockerfile.v0</span>
</span><span id="__span-29-5">&lt;missing&gt;<span class="w">      </span><span class="m">2</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">   </span>RUN<span class="w"> </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>-y<span class="w"> </span><span class="c1"># buil…   29.5MB    buildkit.dockerfile.v0</span>
</span><span id="__span-29-6">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">   </span>RUN<span class="w"> </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="c1"># buildkit            45.1MB    buildkit.dockerfile.v0</span>
</span><span id="__span-29-7">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop)  CMD ["/bin/bash"]            0B</span>
</span><span id="__span-29-8">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop) ADD file:8d91b8bd386e0cc34…   69.2MB</span>
</span><span id="__span-29-9">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop)  LABEL org.opencontainers.…   0B</span>
</span><span id="__span-29-10">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop)  LABEL org.opencontainers.…   0B</span>
</span><span id="__span-29-11">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop)  ARG LAUNCHPAD_BUILD_ARCH     0B</span>
</span><span id="__span-29-12">&lt;missing&gt;<span class="w">      </span><span class="m">3</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop)  ARG RELEASE                  0B</span>
</span></code></pre></div></td></tr></table></div> <h3 id="creacion-de-imagenes-propias">Creación de imágenes propias<a class="headerlink" href="#creacion-de-imagenes-propias" title="Permanent link">¶</a></h3> <p>Para construir una imagen, se crea un <code>Dockerfile</code> con las instrucciones que especifican lo que va a ir en el entorno, dentro del contenedor (redes, volúmenes, puertos al exterior, archivos que se incluyen.</p> <ul> <li>Indica cómo y con qué construir la imagen.</li> <li>Podemos utilizar la imagen en tantos contenedores como queramos.</li> </ul> <p><img alt="Crear imagenes propias" src="assets/docker8.jpg" width="500"/></p> <p>El <code>DockerFile</code> nos permitirá definir las funciones básicas del contenedor.</p> <p>Todo <code>Dockerfile</code> debe terminar en un comando <code>CMD</code> o en un <code>ENTRYPOINT</code>, pero en este caso, no lo utilizamos, ya que lanzaremos un comando directamente desde la receta de DockerCompose. Es decir, este <code>Dockerfile</code> se utiliza solamente para construir el contenedor y configurarlo. No es auto-ejecutable.</p> <p><strong>Construir la imagen desde el Dockerfile</strong></p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1">docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>nombre-de-tu-imagen<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div> <p><strong>Ejemplo:</strong></p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1">docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>mi-aplicacion:1.0<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div> <p><strong>Parámetros importantes:</strong></p> <ul> <li><code>-t</code> : Etiqueta (tag) para tu imagen</li> <li><code>.</code> : Ruta donde está el Dockerfile (usualmente el directorio actual)</li> </ul> <p>Crear y ejecutar el contenedor</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1">docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>nombre-contenedor<span class="w"> </span>nombre-de-tu-imagen
</span></code></pre></div></td></tr></table></div> <p><strong>Ejemplo:</strong></p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1">docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>mi-contenedor<span class="w"> </span>mi-aplicacion:1.0
</span></code></pre></div></td></tr></table></div> <h2 id="opciones">Opciones<a class="headerlink" href="#opciones" title="Permanent link">¶</a></h2> <p><code>FROM</code></p> <p>Imagen del sistema operativo donde va a correr el contenedor.</p> <div class="admonition tip"> <p class="admonition-title">Consejo</p> <p>Las versiones “Alpine linux” ocupan muy poco espacio.</p> </div> <p><code>RUN</code></p> <p>El comando <strong><code>RUN</code></strong> se ejecuta cuando se está construyendo una imagen personalizada para realizar una acción, creando una capa nueva. Este comando tiene el siguiente formato:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-34-1"><span class="k">RUN</span><span class="w"> </span>comando
</span></code></pre></div></td></tr></table></div> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1"><span class="k">RUN</span><span class="w"> </span><span class="o">[</span>“ejecutable”,<span class="w"> </span>“parametro1”,<span class="w"> </span>…<span class="o">]</span>
</span></code></pre></div></td></tr></table></div> <p>Ejemplo en windows:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-36-1"><span class="k">RUN</span><span class="w"> </span><span class="o">[</span>“Powershell”,<span class="w"> </span>“Get-Services”,<span class="w"> </span>“*”<span class="o">]</span>
</span></code></pre></div></td></tr></table></div> <p><code>COPY</code></p> <p>Sirve para copiar archivos desde nuestra máquina al contenedor. Podemos pasar un documento de texto de la máquina anfitrión al contenedor de python-ubuntu.</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-37-1"><span class="k">FROM</span><span class="w"> </span><span class="s">....</span>
</span><span id="__span-37-2"><span class="k">RUN</span><span class="w"> </span>....
</span><span id="__span-37-3"><span class="k">RUN</span><span class="w"> </span>....
</span><span id="__span-37-4"><span class="k">COPY</span><span class="w"> </span>prueba.txt<span class="w"> </span>/
</span></code></pre></div></td></tr></table></div> <p><strong><em>Volvemos a construir la imagen y accedemos a ella para buscar el archivo.</em></strong></p> <p><code>ENV</code></p> <p>Podemos crear una variable y enviarla a nuestro contenedor, en mi caso por ejemplo voy a definir una variable llamada contenido que va a ir dirigida a un bloc de notas que está dentro del contenedor:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-38-1">....
</span><span id="__span-38-2"><span class="k">ENV</span><span class="w"> </span>NUEVO_PATH<span class="w"> </span>/etc
</span></code></pre></div></td></tr></table></div> <p>Una vez regenerado la imagen y dentro del contenedor:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-39-1"><span class="nb">echo</span><span class="w"> </span><span class="nv">$NUEVO_PATH</span>
</span><span id="__span-39-2">/etc
</span></code></pre></div></td></tr></table></div> <p>Podemos combinar RUN con ENV</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-40-1"><span class="k">ENV</span><span class="w"> </span>NUEVO_PATH<span class="w"> </span>/etc
</span><span id="__span-40-2"><span class="k">RUN</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$NUEVO_PATH</span><span class="w"> </span>&gt;<span class="w"> </span>/prueba.txt
</span></code></pre></div></td></tr></table></div> <p><code>WORKDIR</code></p> <p>Nos situamos en un directorio determinado, nos puede ayudar en la copia de ficheros.</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-41-1">.....
</span><span id="__span-41-2"><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/home</span>
</span><span id="__span-41-3"><span class="k">COPY</span><span class="w"> </span>prueba.txt<span class="w"> </span>.<span class="w">  </span>#<span class="w"> </span>Lo<span class="w"> </span>copia<span class="w"> </span>en<span class="w"> </span>/home
</span></code></pre></div></td></tr></table></div> <p><code>EXPOSE</code></p> <p>Permite exponer los puertos que queramos</p> <p><code>LABEL</code></p> <p>Creamos etiquetas, por ejemplo:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-42-1"><span class="k">FROM</span><span class="w"> </span><span class="s">ubuntu</span>
</span><span id="__span-42-2"><span class="k">LABEL</span><span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="m">1</span>.0
</span><span id="__span-42-3"><span class="k">LABEL</span><span class="w"> </span><span class="nv">autor</span><span class="o">=</span>JosepGarcia
</span><span id="__span-42-4">.....
</span></code></pre></div></td></tr></table></div> <p><code>USER</code></p> <p>Sirve para establecer el usuario, debe existir. (Por defecto se utiliza root).</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-43-1">....
</span><span id="__span-43-2"><span class="k">RUN</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="k">$(</span>whoami<span class="k">)</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/usuarioantes.txt
</span><span id="__span-43-3">
</span><span id="__span-43-4"><span class="k">RUN</span><span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>josepgarcia
</span><span id="__span-43-5"><span class="k">USER</span><span class="w"> </span><span class="s">josepgarcia</span>
</span><span id="__span-43-6"><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/home/josepgarcia</span>
</span><span id="__span-43-7"><span class="k">RUN</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="k">$(</span>whoami<span class="k">)</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/usuarioahora.txt
</span></code></pre></div></td></tr></table></div> <p><code>CMD</code></p> <p>Ejecuta comandos una vez se ha inicializado el conenedor (RUN se utiliza para crear la imagen de un contenedor).</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-44-1"><span class="c">## Ejecutamos el comando top cuando se inicie el contenedor</span>
</span><span id="__span-44-2">.....
</span><span id="__span-44-3"><span class="k">CMD</span><span class="w"> </span>top
</span></code></pre></div></td></tr></table></div> <p><code>IGNORE</code></p> <p>Sirve para ignorar aquello que tengamos en nuestro directorio actual.</p> <p>Por ejemplo:</p> <p>Creamos una imagen que copie todo nuestro directorio actual al contenedor.</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-45-1">ls
</span><span id="__span-45-2">Dockerfile<span class="w">  </span>prueba.txt
</span></code></pre></div></td></tr></table></div> <p>contenido de Dockerfile:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-46-1">...
</span><span id="__span-46-2"><span class="k">COPY</span><span class="w"> </span>.<span class="w"> </span>/tmp
</span><span id="__span-46-3">...
</span></code></pre></div></td></tr></table></div> <p>Ahora le decimos que copie todo menos el archivo <code>Dockerfile</code>, para ello creamos un fichero llamado <code>.dockerignore</code> con el siguiente contenido</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-47-1">Dockerfile
</span></code></pre></div></td></tr></table></div> <h3 id="guardar-estado-de-los-contenedores">Guardar estado de los contenedores<a class="headerlink" href="#guardar-estado-de-los-contenedores" title="Permanent link">¶</a></h3> <p><a href="https://www.baeldung.com/ops/docker-save-container-state">https://www.baeldung.com/ops/docker-save-container-state</a></p> <h2 id="casos-de-uso">Casos de uso<a class="headerlink" href="#casos-de-uso" title="Permanent link">¶</a></h2> <h3 id="compatibilidad-de-codigo-entre-diferentes-versiones-de-un-lenguaje">Compatibilidad de código entre diferentes versiones de un lenguaje<a class="headerlink" href="#compatibilidad-de-codigo-entre-diferentes-versiones-de-un-lenguaje" title="Permanent link">¶</a></h3> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-48-1">mkdir<span class="w"> </span>/tmp/php
</span><span id="__span-48-2"><span class="nb">cd</span><span class="w"> </span>/tmp/php
</span></code></pre></div></td></tr></table></div> <p>Crear el siguiente archivo (<code>test.php</code>)</p> <div class="language-php highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-49-1"><span class="cp">&lt;?php</span>
</span><span id="__span-49-2"><span class="c1">// Funciona bien en php5 ya que list hace la asignación desde el último al primero</span>
</span><span id="__span-49-3"><span class="c1">// En PHP 5, list() asigna los valores empezando desde el parámetro más a la derecha. En PHP 7, list() empieza desde el parámetro más a la izquierda.</span>
</span><span id="__span-49-4"><span class="c1">// https://www.php.net/manual/es/function.list.php</span>
</span><span id="__span-49-5"><span class="nv">$info</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'cafeína'</span><span class="p">,</span><span class="s1">'marrón'</span><span class="p">,</span> <span class="s1">'café'</span><span class="p">);</span>
</span><span id="__span-49-6">
</span><span id="__span-49-7"><span class="c1">// Enumerar todas las variables</span>
</span><span id="__span-49-8"><span class="k">list</span><span class="p">(</span><span class="nv">$datos</span><span class="p">[],</span> <span class="nv">$datos</span><span class="p">[],</span> <span class="nv">$datos</span><span class="p">[])</span> <span class="o">=</span> <span class="nv">$info</span><span class="p">;</span>
</span><span id="__span-49-9"><span class="k">echo</span> <span class="s2">"El </span><span class="si">$datos[0]</span><span class="s2"> es </span><span class="si">$datos[1]</span><span class="s2"> y la </span><span class="si">$datos[2]</span><span class="s2"> lo hace especial.</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
</span><span id="__span-49-10"><span class="cp">?&gt;</span>
</span></code></pre></div></td></tr></table></div> <p>A continuación vamos a crear dos contenedores que sirva este código usando imágenes distintas , para cada versión de PHP y usando puertos distintos para acceder a cada versión de la aplicación:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-50-1">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8081</span>:80<span class="w"> </span>--name<span class="w"> </span>php56<span class="w"> </span>-v<span class="w"> </span>/tmp/php:/var/www/html:ro<span class="w"> </span>php:5.6-apache
</span><span id="__span-50-2">Unable<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>image<span class="w"> </span><span class="s1">'php:5.6-apache'</span><span class="w"> </span>locally
</span><span id="__span-50-3"><span class="m">5</span>.6-apache:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>library/php
</span><span id="__span-50-4">5e6ec7f28fb7:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-5">cf165947b5b7:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-6">7bd37682846d:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-7">99daf8e838e1:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-8">ae320713efba:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-9">ebcb99c48d8c:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-10">9867e71b4ab6:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-11">936eb418164a:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-12">bc298e7adaf7:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-13">ccd61b587bcd:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-14">b2d4b347f67c:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-15">56e9dde34152:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-16">9ad99b17eb78:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-50-17">Digest:<span class="w"> </span>sha256:0a40fd273961b99d8afe69a61a68c73c04bc0caa9de384d3b2dd9e7986eec86d
</span><span id="__span-50-18">Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>php:5.6-apache
</span><span id="__span-50-19">10c4c965e067c93cf0ff261ddbf358e323226ed3d54df3b5f4e69c64615194fd
</span><span id="__span-50-20">
</span><span id="__span-50-21"><span class="c1">#Buscamos el id del contenedor que acabamos de crear</span>
</span><span id="__span-50-22">$<span class="w"> </span>docker<span class="w"> </span>ps
</span><span id="__span-50-23">CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">            </span>COMMAND<span class="w">                  </span>CREATED<span class="w">          </span>STATUS<span class="w">          </span>PORTS<span class="w">                                   </span>NAMES
</span><span id="__span-50-24">10c4c965e067<span class="w">   </span>php:5.6-apache<span class="w">   </span><span class="s2">"docker-php-entrypoi…"</span><span class="w">   </span><span class="m">18</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">17</span><span class="w"> </span>seconds<span class="w">   </span><span class="m">0</span>.0.0.0:8081-&gt;80/tcp,<span class="w"> </span>:::8081-&gt;80/tcp<span class="w">   </span>php56
</span><span id="__span-50-25">
</span><span id="__span-50-26"><span class="c1">#Accedermos a su consola con el id que hemos encontrado</span>
</span><span id="__span-50-27">$<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>10c4c965e067<span class="w"> </span>/bin/bash
</span><span id="__span-50-28">
</span><span id="__span-50-29"><span class="c1">#Ejecutamos test.php y vemos que funciona perfectamente</span>
</span><span id="__span-50-30">root@10c4c965e067:/var/www/html#<span class="w"> </span>php<span class="w"> </span>test.php
</span><span id="__span-50-31">El<span class="w"> </span>café<span class="w"> </span>es<span class="w"> </span>marrón<span class="w"> </span>y<span class="w"> </span>la<span class="w"> </span>cafeína<span class="w"> </span>lo<span class="w"> </span>hace<span class="w"> </span>especial.
</span><span id="__span-50-32">
</span><span id="__span-50-33"><span class="c1">#Salimos del contenedor</span>
</span><span id="__span-50-34">root@10c4c965e067:/var/www/html#<span class="w"> </span><span class="nb">exit</span>
</span></code></pre></div></td></tr></table></div> <p>Ahora lo intentaremos con una versión más reciente de php, la 7.4:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-51-1">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8082</span>:80<span class="w"> </span>--name<span class="w"> </span>php74<span class="w"> </span>-v<span class="w"> </span>/tmp/php:/var/www/html:ro<span class="w"> </span>php:7.4-apache
</span><span id="__span-51-2">Unable<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>image<span class="w"> </span><span class="s1">'php:7.4-apache'</span><span class="w"> </span>locally
</span><span id="__span-51-3"><span class="m">7</span>.4-apache:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>library/php
</span><span id="__span-51-4">a603fa5e3b41:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-5">c428f1a49423:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-6">156740b07ef8:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-7">fb5a4c8af82f:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-8">25f85b498fd5:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-9">9b233e420ac7:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-10">fe42347c4ecf:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-11">d14eb2ed1e17:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-12">66d98f73acb6:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-13">d2c43c5efbc8:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-14">ab590b48ea47:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-15">80692ae2d067:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-16">05e465aaa99a:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>
</span><span id="__span-51-17">Digest:<span class="w"> </span>sha256:c9d7e608f73832673479770d66aacc8100011ec751d1905ff63fae3fe2e0ca6d
</span><span id="__span-51-18">Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>php:7.4-apache
</span><span id="__span-51-19">de1a3c9f72a4003022a0dfa9e1cdd7d2733ae52d21046e342370131abc50a112
</span><span id="__span-51-20">
</span><span id="__span-51-21"><span class="c1">#Ahora ejecutaremos test.php de otro modo, directamente accediendo al servidor web que hemos levantado en el puerto 8082 accediendo a la url http://localhost:8082/test.php</span>
</span></code></pre></div></td></tr></table></div> <p>El resultado desde el navegador debería ser similar a:</p> <p><img alt="php 7.4" src="assets/php74.png"/></p> <h3 id="crear-una-imagen-de-un-repositorio-de-github">Crear una imagen de un repositorio de github<a class="headerlink" href="#crear-una-imagen-de-un-repositorio-de-github" title="Permanent link">¶</a></h3> <p>Ejemplo repositorio:</p> <p><a href="https://github.com/k4m4/kickthemout">https://github.com/k4m4/kickthemout</a></p> <p>Creamos el <code>Dockerfile</code>:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-52-1"><span class="k">FROM</span><span class="w"> </span><span class="s">ubuntu:focal</span>
</span><span id="__span-52-2">
</span><span id="__span-52-3"><span class="k">RUN</span><span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span>-y<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt<span class="w"> </span>upgrade<span class="w"> </span>-y<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>-y
</span><span id="__span-52-4"><span class="k">RUN</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>git
</span><span id="__span-52-5"><span class="k">RUN</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3-pip
</span><span id="__span-52-6"><span class="k">RUN</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>nmap
</span><span id="__span-52-7"><span class="k">RUN</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/k4m4/kickthemout.git
</span><span id="__span-52-8">
</span><span id="__span-52-9"><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/kickthemout</span>
</span><span id="__span-52-10">
</span><span id="__span-52-11"><span class="k">RUN</span><span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</span><span id="__span-52-12">
</span><span id="__span-52-13"><span class="k">CMD</span><span class="w"> </span>python3<span class="w"> </span>kickthemout.py
</span></code></pre></div></td></tr></table></div> <p>Si ahora creamos nuestra imagen a partir del Dockerfile:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-53-1">$<span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>kick:1.0<span class="w"> </span>.
</span><span id="__span-53-2"><span class="o">[</span>+<span class="o">]</span><span class="w"> </span>Building<span class="w"> </span><span class="m">111</span>.2s<span class="w"> </span><span class="o">(</span><span class="m">11</span>/11<span class="o">)</span><span class="w"> </span>FINISHED<span class="w">                                                          </span>docker:desktop-linux
</span><span id="__span-53-3"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span>internal<span class="o">]</span><span class="w"> </span>load<span class="w"> </span>build<span class="w"> </span>definition<span class="w"> </span>from<span class="w"> </span>Dockerfile<span class="w">                                                          </span><span class="m">0</span>.1s
</span><span id="__span-53-4"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>transferring<span class="w"> </span>dockerfile:<span class="w"> </span>316B<span class="w">                                                                          </span><span class="m">0</span>.0s
</span><span id="__span-53-5"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span>internal<span class="o">]</span><span class="w"> </span>load<span class="w"> </span>metadata<span class="w"> </span><span class="k">for</span><span class="w"> </span>docker.io/library/ubuntu:focal<span class="w">                                               </span><span class="m">2</span>.0s
</span><span id="__span-53-6"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span>internal<span class="o">]</span><span class="w"> </span>load<span class="w"> </span>.dockerignore<span class="w">                                                                             </span><span class="m">0</span>.0s
</span><span id="__span-53-7"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>transferring<span class="w"> </span>context:<span class="w"> </span>2B<span class="w">                                                                               </span><span class="m">0</span>.0s
</span><span id="__span-53-8"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">1</span>/7<span class="o">]</span><span class="w"> </span>FROM<span class="w"> </span>docker.io/library/ubuntu:focal@sha256:8feb4d8ca5354def3d8fce243717141ce31e2c428701f6682bd2faf<span class="w">  </span><span class="m">2</span>.0s
</span><span id="__span-53-9"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>resolve<span class="w"> </span>docker.io/library/ubuntu:focal@sha256:8feb4d8ca5354def3d8fce243717141ce31e2c428701f6682bd2faf<span class="w">  </span><span class="m">0</span>.0s
</span><span id="__span-53-10"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>sha256:13b7e930469f6d3575a320709035c6acf6f5485a76abcf03d1b92a64c09c2476<span class="w"> </span><span class="m">27</span>.51MB<span class="w"> </span>/<span class="w"> </span><span class="m">27</span>.51MB<span class="w">              </span><span class="m">1</span>.2s
</span><span id="__span-53-11"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>extracting<span class="w"> </span>sha256:13b7e930469f6d3575a320709035c6acf6f5485a76abcf03d1b92a64c09c2476<span class="w">                     </span><span class="m">0</span>.7s
</span><span id="__span-53-12"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">2</span>/7<span class="o">]</span><span class="w"> </span>RUN<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span>-y<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt<span class="w"> </span>upgrade<span class="w"> </span>-y<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>-y<span class="w">                                      </span><span class="m">30</span>.5s
</span><span id="__span-53-13"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">3</span>/7<span class="o">]</span><span class="w"> </span>RUN<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>git<span class="w">                                                                             </span><span class="m">28</span>.7s<span class="w"> </span>
</span><span id="__span-53-14"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">4</span>/7<span class="o">]</span><span class="w"> </span>RUN<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3-pip<span class="w">                                                                     </span><span class="m">33</span>.2s<span class="w"> </span>
</span><span id="__span-53-15"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">5</span>/7<span class="o">]</span><span class="w"> </span>RUN<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/k4m4/kickthemout.git<span class="w">                                               </span><span class="m">1</span>.0s<span class="w"> </span>
</span><span id="__span-53-16"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">6</span>/7<span class="o">]</span><span class="w"> </span>WORKDIR<span class="w"> </span>/kickthemout<span class="w">                                                                                </span><span class="m">0</span>.1s<span class="w"> </span>
</span><span id="__span-53-17"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">[</span><span class="m">7</span>/7<span class="o">]</span><span class="w"> </span>RUN<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt<span class="w">                                                                </span><span class="m">3</span>.2s<span class="w"> </span>
</span><span id="__span-53-18"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>exporting<span class="w"> </span>to<span class="w"> </span>image<span class="w">                                                                                       </span><span class="m">10</span>.0s<span class="w"> </span>
</span><span id="__span-53-19"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>exporting<span class="w"> </span>layers<span class="w">                                                                                       </span><span class="m">6</span>.8s<span class="w"> </span>
</span><span id="__span-53-20"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>exporting<span class="w"> </span>manifest<span class="w"> </span>sha256:771f59312051c037aaff14313c8b0edf1e4783c1b35b62015216ef06cd7b4270<span class="w">             </span><span class="m">0</span>.0s<span class="w"> </span>
</span><span id="__span-53-21"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>exporting<span class="w"> </span>config<span class="w"> </span>sha256:8a78e3ef64feef584340963a82a193bc3949433f74fa5863cf3e874c6cd95025<span class="w">               </span><span class="m">0</span>.0s<span class="w"> </span>
</span><span id="__span-53-22"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>exporting<span class="w"> </span>attestation<span class="w"> </span>manifest<span class="w"> </span>sha256:98f1e53e84cf3c2fa9f69b4dd88d852ca0524e060a268f82ed3dadc386bd655<span class="w">  </span><span class="m">0</span>.1s<span class="w"> </span>
</span><span id="__span-53-23"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>exporting<span class="w"> </span>manifest<span class="w"> </span>list<span class="w"> </span>sha256:36321bf83b1c51a1200aa0742bd671f14d999633640535cfb2c72ad530c25c48<span class="w">        </span><span class="m">0</span>.0s<span class="w"> </span>
</span><span id="__span-53-24"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>naming<span class="w"> </span>to<span class="w"> </span>docker.io/library/kick:1.0<span class="w">                                                                   </span><span class="m">0</span>.0s
</span><span id="__span-53-25"><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>unpacking<span class="w"> </span>to<span class="w"> </span>docker.io/library/kick:1.0<span class="w">                                                                </span><span class="m">2</span>.9s
</span><span id="__span-53-26">
</span><span id="__span-53-27"><span class="w"> </span><span class="m">1</span><span class="w"> </span>warning<span class="w"> </span>found<span class="w"> </span><span class="o">(</span>use<span class="w"> </span>docker<span class="w"> </span>--debug<span class="w"> </span>to<span class="w"> </span>expand<span class="o">)</span>:
</span><span id="__span-53-28"><span class="w"> </span>-<span class="w"> </span>JSONArgsRecommended:<span class="w"> </span>JSON<span class="w"> </span>arguments<span class="w"> </span>recommended<span class="w"> </span><span class="k">for</span><span class="w"> </span>CMD<span class="w"> </span>to<span class="w"> </span>prevent<span class="w"> </span>unintended<span class="w"> </span>behavior<span class="w"> </span>related<span class="w"> </span>to<span class="w"> </span>OS<span class="w"> </span>signals<span class="w"> </span><span class="o">(</span>line<span class="w"> </span><span class="m">12</span><span class="o">)</span>
</span><span id="__span-53-29">
</span><span id="__span-53-30">View<span class="w"> </span>build<span class="w"> </span>details:<span class="w"> </span>docker-desktop://dashboard/build/desktop-linux/desktop-linux/ck1d95jji381mhtqspu1azv13
</span></code></pre></div></td></tr></table></div> <p>A continuación podremos crear un nuevo contenedor usando esa imagen:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-54-1">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>mi-kick<span class="w"> </span>kick:1.0
</span><span id="__span-54-2">
</span><span id="__span-54-3">ERROR:<span class="w"> </span>Gateway<span class="w"> </span>IP<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>be<span class="w"> </span>obtained.<span class="w"> </span>Please<span class="w"> </span>enter<span class="w"> </span>IP<span class="w"> </span>manually.
</span><span id="__span-54-4">
</span><span id="__span-54-5">kickthemout&gt;<span class="w"> </span>Enter<span class="w"> </span>Gateway<span class="w"> </span>IP<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span><span class="m">192</span>.168.1.1<span class="o">)</span>:<span class="w"> </span>
</span></code></pre></div></td></tr></table></div> <p>Vemos que el script no encuentra la puerta de enlace, pero la imagen y el contenedor creados funcionan correctamente.</p> <h3 id="dockerizar-nuestro-jupyter-con-carpeta-para-notebooks">Dockerizar nuestro jupyter con carpeta para notebooks<a class="headerlink" href="#dockerizar-nuestro-jupyter-con-carpeta-para-notebooks" title="Permanent link">¶</a></h3> <p>Otra forma de levantar un contenedor con docker-compose es utilizar un Dockerfile para generar la imagen (en lugar de usar una de DockerHub)</p> <p>Necesitamos una carpeta con la siguiente estructura:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-55-1">.
</span><span id="__span-55-2">├──<span class="w"> </span>docker-compose.yml
</span><span id="__span-55-3">├──<span class="w"> </span>Dockerfile
</span><span id="__span-55-4">└──<span class="w"> </span>notebooks
</span><span id="__span-55-5"><span class="w">    </span>└──<span class="w"> </span>rockpaperscissors.ipynb
</span></code></pre></div></td></tr></table></div> <p>El fichero <code>Dockerfile</code> tiene el siguiente contenido:</p> <div class="language-dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-56-1"><span class="c">#versión de python compatible con experta</span>
</span><span id="__span-56-2"><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.6</span>
</span><span id="__span-56-3"><span class="c">#libreria de python para sistemas expertos</span>
</span><span id="__span-56-4"><span class="k">RUN</span><span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>experta
</span><span id="__span-56-5"><span class="c">#libreria para usar notebooks en python</span>
</span><span id="__span-56-6"><span class="k">RUN</span><span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>notebook<span class="w"> </span>
</span><span id="__span-56-7"><span class="c">#creamos la carpeta de trabajo</span>
</span><span id="__span-56-8"><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/home/MIA2526</span>
</span><span id="__span-56-9"><span class="c">#ejecutamos el jupyter notebook en el puerto 8888</span>
</span><span id="__span-56-10"><span class="k">CMD</span><span class="w"> </span>jupyter<span class="w"> </span>notebook<span class="w"> </span>--allow-root<span class="w"> </span>--ip<span class="o">=</span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="o">=</span><span class="m">8888</span><span class="w"> </span>--no-browser<span class="w"> </span>
</span></code></pre></div></td></tr></table></div> <p>Ahora, para el <code>docker-compose.yml</code> tendremos:</p> <div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-57-1">services:
</span><span id="__span-57-2">  experta:
</span><span id="__span-57-3">    container_name: experta #bautizamos a nuestro contenedor
</span><span id="__span-57-4">    build: . #con esta linea le indicamos que busque el Dockerfile, en lugar de buscar una imágen en un repositorio
</span><span id="__span-57-5">    ports:
</span><span id="__span-57-6">      - "8888:8888" #publicamos el puerto para que sea accesible desde fuera
</span><span id="__span-57-7">    volumes:
</span><span id="__span-57-8">      - ./notebooks:/home/MIA2526 #aquí asignamos la carpeta local notebooks con la carpeta de trabajo del contenedor
</span></code></pre></div></td></tr></table></div> <p>Y por último necesitamos el notebook para hacer pruebas, en nuestro caso es un juego de piedra, papel o tijeras:</p> <p><a href="assets/rockpaperscissors.ipynb">rockpaperscissors.ipynb</a> este fichero debemos guardarlo en la carpeta <code>notebooks</code></p> <p>Ahora con toda la estructura lista y desde la raiz de la carpeta (donde estan el docker-compose.yml y el Dockerfile) ejecutamos:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-58-1">$<span class="w"> </span>docker-compose<span class="w"> </span>up
</span><span id="__span-58-2"><span class="o">[</span>+<span class="o">]</span><span class="w"> </span>Running<span class="w"> </span><span class="m">1</span>/1
</span><span id="__span-58-3"><span class="w"> </span>✔<span class="w"> </span>Container<span class="w"> </span>experta<span class="w">  </span>Recreated<span class="w">                                                                               </span><span class="m">0</span>.1s<span class="w"> </span>
</span><span id="__span-58-4">Attaching<span class="w"> </span>to<span class="w"> </span>experta
</span><span id="__span-58-5">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>I<span class="w"> </span><span class="m">16</span>:30:08.568<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w"> </span>Writing<span class="w"> </span>notebook<span class="w"> </span>server<span class="w"> </span>cookie<span class="w"> </span>secret<span class="w"> </span>to<span class="w"> </span>/root/.local/share/jupyter/runtime/notebook_cookie_secret
</span><span id="__span-58-6">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>I<span class="w"> </span><span class="m">16</span>:30:08.784<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w"> </span>Serving<span class="w"> </span>notebooks<span class="w"> </span>from<span class="w"> </span><span class="nb">local</span><span class="w"> </span>directory:<span class="w"> </span>/home/MIA2324
</span><span id="__span-58-7">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>I<span class="w"> </span><span class="m">16</span>:30:08.784<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w"> </span>Jupyter<span class="w"> </span>Notebook<span class="w"> </span><span class="m">6</span>.4.10<span class="w"> </span>is<span class="w"> </span>running<span class="w"> </span>at:
</span><span id="__span-58-8">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>I<span class="w"> </span><span class="m">16</span>:30:08.784<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w"> </span>http://e0ec65ac1d84:8888/?token<span class="o">=</span>825b1ba76502787821bc045496e3429bca02ba09720a835b
</span><span id="__span-58-9">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>I<span class="w"> </span><span class="m">16</span>:30:08.784<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w">  </span>or<span class="w"> </span>http://127.0.0.1:8888/?token<span class="o">=</span>825b1ba76502787821bc045496e3429bca02ba09720a835b
</span><span id="__span-58-10">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>I<span class="w"> </span><span class="m">16</span>:30:08.784<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w"> </span>Use<span class="w"> </span>Control-C<span class="w"> </span>to<span class="w"> </span>stop<span class="w"> </span>this<span class="w"> </span>server<span class="w"> </span>and<span class="w"> </span>shut<span class="w"> </span>down<span class="w"> </span>all<span class="w"> </span>kernels<span class="w"> </span><span class="o">(</span>twice<span class="w"> </span>to<span class="w"> </span>skip<span class="w"> </span>confirmation<span class="o">)</span>.
</span><span id="__span-58-11">experta<span class="w">  </span><span class="p">|</span><span class="w"> </span><span class="o">[</span>C<span class="w"> </span><span class="m">16</span>:30:08.787<span class="w"> </span>NotebookApp<span class="o">]</span><span class="w"> </span>
</span><span id="__span-58-12">experta<span class="w">  </span><span class="p">|</span><span class="w">     </span>
</span><span id="__span-58-13">experta<span class="w">  </span><span class="p">|</span><span class="w">     </span>To<span class="w"> </span>access<span class="w"> </span>the<span class="w"> </span>notebook,<span class="w"> </span>open<span class="w"> </span>this<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>a<span class="w"> </span>browser:
</span><span id="__span-58-14">experta<span class="w">  </span><span class="p">|</span><span class="w">         </span>file:///root/.local/share/jupyter/runtime/nbserver-7-open.html
</span><span id="__span-58-15">experta<span class="w">  </span><span class="p">|</span><span class="w">     </span>Or<span class="w"> </span>copy<span class="w"> </span>and<span class="w"> </span>paste<span class="w"> </span>one<span class="w"> </span>of<span class="w"> </span>these<span class="w"> </span>URLs:
</span><span id="__span-58-16">experta<span class="w">  </span><span class="p">|</span><span class="w">         </span>http://e0ec65ac1d84:8888/?token<span class="o">=</span>825b1ba76502787821bc045496e3429bca02ba09720a835b
</span><span id="__span-58-17">experta<span class="w">  </span><span class="p">|</span><span class="w">      </span>or<span class="w"> </span>http://127.0.0.1:8888/?token<span class="o">=</span>825b1ba76502787821bc045496e3429bca02ba09720a835b
</span></code></pre></div></td></tr></table></div> <p>Ahora podemos hacer click directamente sobre el enlace a <a href="http://127.0.0.1:8888/?token=bebf660273e8e168c7fec90978ed56fb50db6b08d915cb14">http://127.0.0.1:8888/?token=bebf660273e8e168c7fec90978ed56fb50db6b08d915cb14</a> donde veremos nuestro jupyter notebook:</p> <p><img alt="jupyter notebook" src="assets/jupyter.png" width="700"/></p> <p>Si hacemos click sobre el notebook <code>rockpaperscissors.ipynb</code> podremos ver:</p> <p><img alt="rockpaperscissors.ipynb" src="assets/jupyter2.png" width="700"/></p> <p>Después de pulsar varias veces (para ir ejecutando todas las celdas) podremos ver como evoluciona nuestro juego:</p> <p><img alt="ROCK-PAPER-SCISSORS GAME" src="assets/jupyter3.png" width="500"/></p> <p>Para detener el contenedor que hemos lanzado con <code>docker-compose</code>, solo hemos de pulsar <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span></p> <h3 id="crear-una-imagen-personalizada">Crear una imagen personalizada<a class="headerlink" href="#crear-una-imagen-personalizada" title="Permanent link">¶</a></h3> <p><a href="https://jolthgs.wordpress.com/2019/09/25/create-a-debian-container-in-docker-for-development/">https://jolthgs.wordpress.com/2019/09/25/create-a-debian-container-in-docker-for-development/</a></p> <p>Para crear una imagen personalizada utilizaremos el contenedor que habíamos creado en el <a href="#crear-contenedor-interactivo-y-con-nombre">primer ejemplo</a>, con una debian actualizada y con un fichero de texto <code>prueba.txt</code></p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-59-1"><span class="c1"># Iniciamos el contenedor</span>
</span><span id="__span-59-2">$<span class="w"> </span>docker<span class="w"> </span>start<span class="w"> </span>debian-mini
</span><span id="__span-59-3">
</span><span id="__span-59-4">$<span class="w"> </span>docker<span class="w"> </span>ps
</span><span id="__span-59-5">CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">            </span>COMMAND<span class="w">          </span>CREATED<span class="w">              </span>STATUS<span class="w">         </span>PORTS<span class="w">     </span>NAMES
</span><span id="__span-59-6">8c6b29c818ee<span class="w">   </span>debian:13-slim<span class="w">   </span><span class="s2">"/bin/bash -l"</span><span class="w">   </span>About<span class="w"> </span>a<span class="w"> </span>minute<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">6</span><span class="w"> </span>seconds<span class="w">             </span>debian-mini
</span><span id="__span-59-7">
</span><span id="__span-59-8"><span class="c1"># Entramos en el contenedor iniciado</span>
</span><span id="__span-59-9">$<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>debian-mini<span class="w"> </span>bash
</span><span id="__span-59-10">
</span><span id="__span-59-11"><span class="c1"># Instalamos el paquete</span>
</span><span id="__span-59-12">apt<span class="w"> </span>install<span class="w"> </span>bsdgames
</span><span id="__span-59-13">
</span><span id="__span-59-14"><span class="c1"># Ver todos los juegos incluidos</span>
</span><span id="__span-59-15">dpkg<span class="w"> </span>-L<span class="w"> </span>bsdgames<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>/usr/games
</span><span id="__span-59-16">
</span><span id="__span-59-17"><span class="c1"># Ejecutamos el tetris (por ejemplo)</span>
</span><span id="__span-59-18">/usr/games/tetris-bsd
</span><span id="__span-59-19"><span class="c1"># Salimos del juego con la q</span>
</span><span id="__span-59-20">
</span><span id="__span-59-21"><span class="c1"># Salimos del contenedor</span>
</span><span id="__span-59-22">control<span class="w"> </span>+<span class="w"> </span>d
</span><span id="__span-59-23">
</span><span id="__span-59-24"><span class="c1"># Nuestra imagen</span>
</span><span id="__span-59-25">$<span class="w"> </span>docker<span class="w"> </span>image<span class="w"> </span>ls
</span><span id="__span-59-26">REPOSITORY<span class="w">   </span>TAG<span class="w">       </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">        </span>SIZE
</span><span id="__span-59-27">debian<span class="w">       </span><span class="m">13</span>-slim<span class="w">   </span>1caf1c703c8f<span class="w">   </span><span class="m">42</span><span class="w"> </span>hours<span class="w"> </span>ago<span class="w">   </span>117MB
</span></code></pre></div></td></tr></table></div> <p><img alt="tetris-bsd" src="assets/tetris-bsd.png" width="700"/></p> <h2 id="copias-de-seguridad">Copias de seguridad<a class="headerlink" href="#copias-de-seguridad" title="Permanent link">¶</a></h2> <h3 id="copias-de-contenedores">Copias de contenedores<a class="headerlink" href="#copias-de-contenedores" title="Permanent link">¶</a></h3> <p>Ya estén encendidos o apagados, podemos realizar respaldos de seguridad de los contenedores. Utilizando la opción “<em>export</em>” empaquetará el contenido, generando un fichero con extensión “.<em>tar</em>” de la siguiente manera:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-60-1">docker<span class="w"> </span><span class="nb">export</span><span class="w"> </span>-o<span class="w"> </span>fichero-resultante.tar<span class="w"> </span>nombre-contenedor
</span></code></pre></div></td></tr></table></div> <p>o</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-61-1">docker<span class="w"> </span><span class="nb">export</span><span class="w"> </span>nombre-contenedor<span class="w"> </span>&gt;<span class="w"> </span>fichero-resultante.tar
</span></code></pre></div></td></tr></table></div> <h3 id="restauracion-de-copias-de-seguridad-de-contenedores"><strong>Restauración de copias de seguridad de contenedores</strong><a class="headerlink" href="#restauracion-de-copias-de-seguridad-de-contenedores" title="Permanent link">¶</a></h3> <p>Hay que tener en cuenta, antes de nada, que no es posible restaurar el contenedor directamente, de forma automática. En cambio, sí podemos crear una imagen, a partir de un respaldo de un contenedor, mediante el parámetro “<em>import</em>” de la siguiente manera:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-62-1">docker<span class="w"> </span>import<span class="w"> </span>fichero-backup.tar<span class="w"> </span>nombre-nueva-imagen
</span></code></pre></div></td></tr></table></div> <h3 id="copias-de-imagenes"><strong>Copias de imágenes</strong><a class="headerlink" href="#copias-de-imagenes" title="Permanent link">¶</a></h3> <p>Aunque no tiene mucho sentido por que se bajan muy rápido, también tenemos la posibilidad de realizar copias de seguridad de imágenes. El proceso se realiza al utilizar el parámetro ‘<em>save</em>‘, que empaquetará el contenido y generará un fichero con extensión “<em>tar</em>“, así:</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-63-1">docker<span class="w"> </span>save<span class="w"> </span>nombre_imagen<span class="w"> </span>&gt;<span class="w"> </span>imagen.tar
</span></code></pre></div></td></tr></table></div> <p>o</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-64-1">docker<span class="w"> </span>save<span class="w"> </span>-o<span class="w"> </span>imagen.tar<span class="w"> </span>nombre_imagen
</span></code></pre></div></td></tr></table></div> <h3 id="restaurar-copias-de-seguridad-de-imagenes"><strong>Restaurar copias de seguridad de imágenes</strong><a class="headerlink" href="#restaurar-copias-de-seguridad-de-imagenes" title="Permanent link">¶</a></h3> <p>Con el parámetro ‘load’, podemos restaurar copias de seguridad en formato ‘.tar’ y de esta manera recuperar la imagen.</p> <div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-65-1">docker<span class="w"> </span>load<span class="w"> </span>-i<span class="w"> </span>fichero.tar
</span></code></pre></div></td></tr></table></div> <h2 id="contenedores-ejemplo">Contenedores ejemplo<a class="headerlink" href="#contenedores-ejemplo" title="Permanent link">¶</a></h2> <h3 id="monitorizacion-y-gestion">Monitorización y Gestión<a class="headerlink" href="#monitorizacion-y-gestion" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://github.com/netdata/netdata">Netdata</a></strong> - Monitorización de sistemas en tiempo real con dashboard web completo</li> <li><strong><a href="https://nicolargo.github.io/glances/">Glances</a></strong> - Monitorización del sistema via web que muestra información de CPU, memoria, red y procesos</li> <li><strong><a href="https://www.portainer.io/">Portainer</a></strong> - Interfaz web para gestionar y administrar contenedores Docker</li> <li><strong><a href="https://github.com/louislam/uptime-kuma">Uptime Kuma</a></strong> - Monitor de disponibilidad para verificar el estado de contenedores y servicios</li> </ul> <h3 id="proxy-y-red">Proxy y Red<a class="headerlink" href="#proxy-y-red" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://nginxproxymanager.com/">Nginx Proxy Manager</a></strong> - Proxy inverso con interfaz web para gestionar hosts virtuales y certificados SSL/TLS</li> <li><strong><a href="https://acestream.org/">Acestream</a></strong> - Motor P2P para streaming de video, útil para integrar canales en Jellyfin</li> <li><strong><a href="https://github.com/spikecodes/libreddit">Libreddit</a></strong> - Interfaz alternativa para Reddit libre de publicidad y tracking (modo lectura)</li> <li><strong><a href="https://github.com/iv-org/invidious">Invidious</a></strong> - Interfaz alternativa para YouTube que respeta la privacidad</li> </ul> <h3 id="multimedia-y-entretenimiento">Multimedia y Entretenimiento<a class="headerlink" href="#multimedia-y-entretenimiento" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://jellyfin.org/">Jellyfin</a></strong> - Servidor multimedia libre para organizar y streaming de películas, series y música</li> <li><strong><a href="https://www.slsknet.org/">Soulseek</a></strong> - Cliente para la red P2P Soulseek especializada en compartir música</li> <li><strong><a href="https://github.com/ytdl-org/youtube-dl">youtube-dl</a></strong> - Herramienta para descargar videos y audio de YouTube y otros sitios</li> <li><strong><a href="https://www.photoprism.app/">Photoprism</a></strong> - Servicio de gestión y visualización de fotos personales con funciones de IA</li> </ul> <h3 id="productividad-y-organizacion">Productividad y Organización<a class="headerlink" href="#productividad-y-organizacion" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://nextcloud.com/">Nextcloud</a></strong> - Plataforma de colaboración y almacenamiento en la nube auto-alojado</li> <li><strong><a href="https://github.com/sissbruecker/linkding">Linkding</a></strong> - Marcador social para guardar y organizar enlaces web</li> <li><strong><a href="https://gitbucket.github.io/">GitBucket</a></strong> - Plataforma Git auto-alojada similar a GitHub</li> <li><strong><a href="https://github.com/searxng/searxng">SearXNG</a></strong> - Metabuscador privado que agrega resultados de múltiples motores de búsqueda</li> </ul> <h3 id="seguridad-y-contrasenas">Seguridad y Contraseñas<a class="headerlink" href="#seguridad-y-contrasenas" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://github.com/dani-garcia/vaultwarden">Vaultwarden</a></strong> - Implementación alternativa del gestor de contraseñas Bitwarden, más ligera y eficiente</li> </ul> <h3 id="automatizacion-del-hogar">Automatización del Hogar<a class="headerlink" href="#automatizacion-del-hogar" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://www.home-assistant.io/">Home Assistant</a></strong> - Plataforma de domótica de código abierto para automatizar y controlar dispositivos del hogar</li> <li><strong><a href="https://homebridge.io/">Homebridge</a></strong> - Puente que permite integrar dispositivos no compatibles con el ecosistema Apple HomeKit</li> <li><strong><a href="https://github.com/camera-ui/camera-ui">Camera.UI</a></strong> - Aplicación para gestionar y visualizar cámaras de seguridad con integración HomeKit</li> </ul> <h3 id="utilidades-y-mantenimiento">Utilidades y Mantenimiento<a class="headerlink" href="#utilidades-y-mantenimiento" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://github.com/gethomepage/homepage">Homepage</a></strong> - Dashboard personalizable como página de inicio para acceder a todos los servicios</li> <li><strong><a href="https://containrrr.dev/watchtower/">Watchtower</a></strong> - Servicio que actualiza automáticamente los contenedores Docker cuando hay nuevas versiones disponibles</li> </ul> <h2 id="ejercicios">Ejercicios<a class="headerlink" href="#ejercicios" title="Permanent link">¶</a></h2> <h3 id="ejercicio1">Ejercicio1<a class="headerlink" href="#ejercicio1" title="Permanent link">¶</a></h3> <p>Instala docker desktop en tu PC. Guarda una captura de pantalla que demuestre que funciona en tu PC.</p> <h3 id="ejercicio2">Ejercicio2<a class="headerlink" href="#ejercicio2" title="Permanent link">¶</a></h3> <p>Asegúrate de que puedes reproducir todos los casos de uso vistos <a href="#casos-de-uso">más arriba</a>. Guarda varias capturas de pantalla donde se pueda ver que han funcionado los diferentes casos.</p> <h3 id="ejercicio-3">Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Permanent link">¶</a></h3> <p>Crea 2 contenedores, uno con python 3.11 y otro con python 3.9. Explica los pasos que has seguido para conseguirlo y muestra pantalla con los contenedores funcionando.</p> <h3 id="ejercicio-4">Ejercicio 4<a class="headerlink" href="#ejercicio-4" title="Permanent link">¶</a></h3> <p>Elige alguna de las imágenes propuestas en los <a href="#contenedores-ejemplo">Contenedores de ejemplo</a> (o cualquiera a tu elección de <a href="https://hub.docker.com/">DockerHub</a>), escribe un <code>docker-compose.yml</code> y muéstralo con capturas y en funcionamiento en la memoria en PDF.</p> <h2 id="tarea-entregable">Tarea entregable<a class="headerlink" href="#tarea-entregable" title="Permanent link">¶</a></h2> <p>Recopila todas las capturas y explicaciones de los 4 ejercicios en una memoria en PDF que justifique todo el trabajo realizado.</p></div> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="Última actualización"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="12 de noviembre de 2025 15:49:11 UTC">12 de noviembre de 2025</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component="top" hidden="" type="button"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Volver al principio </button> </main> <footer class="md-footer"> <nav aria-label="Pie" class="md-footer__inner md-grid"> <a aria-label="Anterior: Información importante" class="md-footer__link md-footer__link--prev" href="../index.html"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Anterior </span> <div class="md-ellipsis"> Información importante </div> </div> </a> <a aria-label="Siguiente: Caracterización de sistemas y utilización de modelos de Inteligencia Artificial" class="md-footer__link md-footer__link--next" href="../UD01/UD01_ES.html"> <div class="md-footer__title"> <span class="md-footer__direction"> Siguiente </span> <div class="md-ellipsis"> Caracterización de sistemas y utilización de modelos de Inteligencia Artificial </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> © 2025 David Martínez licensed under CC BY-NC-SA 4.0 </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> <div class="md-social"> <a class="md-social__link" href="https://youtube.com/@martinezpenya" rel="noopener" target="_blank" title="youtube.com"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.498 6.186a3.02 3.02 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.02 3.02 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.02 3.02 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.02 3.02 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814M9.545 15.568V8.432L15.818 12z"></path></svg> </a> <a class="md-social__link" href="https://linkedin.com/in/martinezpenya" rel="noopener" target="_blank" title="linkedin.com"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg> </a> <a class="md-social__link" href="https://github.com/martinezpenya" rel="noopener" target="_blank" title="github.com"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class="md-social__link" href="https://buymeacoffee.com/martinezpenya" rel="noopener" target="_blank" title="Buy me a coffee"> <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M64 64c0-17.7 14.3-32 32-32h352c70.7 0 128 57.3 128 128s-57.3 128-128 128c0 53-43 96-96 96H160c-53 0-96-43-96-96zm448 96c0-35.3-28.7-64-64-64v128c35.3 0 64-28.7 64-64M64 448h384c17.7 0 32 14.3 32 32s-14.3 32-32 32H64c-17.7 0-32-14.3-32-32s14.3-32 32-32"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["header.autohide", "content.action.edit", "content.code.copy", "content.code.select", "content.code.anotate", "toc.follow", "toc.integrate", "navigation.top", "navigation.footer"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script> <script src="../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../js/mathjax-config.js"></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg-full.js"></script> </body> </html>